"use strict";(self.webpackChunkmy_spotify_stats=self.webpackChunkmy_spotify_stats||[]).push([[795],{8795:(x,_,s)=>{s.r(_),s.d(_,{TopTracksComponent:()=>E});var o=s(6895),c=s(6787),l=s(4466),p=s(6257),t=s(8274),g=s(4578),d=s(8019),k=s(6e3),m=s(1303),u=s(5134),f=s(42),T=s(7763);function h(n,r){1&n&&(t.TgZ(0,"div",8)(1,"div",9),t._uU(2,"Sorry, there was no tracks found!"),t.qZA(),t.TgZ(3,"div",10),t._uU(4,"Please wait a minute and refresh to try again!"),t.qZA()())}function v(n,r){if(1&n&&(t.TgZ(0,"li",13)(1,"div",14),t._UZ(2,"img",15),t.qZA(),t.TgZ(3,"div",16)(4,"div",17),t._uU(5),t.qZA(),t.TgZ(6,"div",18),t._uU(7),t.qZA()(),t.TgZ(8,"div",19),t._uU(9),t.ALo(10,"localeDate"),t.qZA()()),2&n){const e=r.$implicit;t.xp6(2),t.Q6J("src",null==e?null:e.image,t.LSH)("alt",null==e?null:e.name),t.xp6(3),t.Oqu(e.name),t.xp6(2),t.Oqu(e.getAllArtists()),t.xp6(2),t.Oqu(t.xi3(10,5,null==e?null:e.duration,"mm:ss"))}}function S(n,r){if(1&n&&(t.TgZ(0,"ul",11),t.YNc(1,v,11,8,"li",12),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.tracks)}}let E=(()=>{class n{constructor(e,a,i,A,O){this.errorService=e,this.attributeService=a,this.userService=i,this.storageService=A,this.loadingService=O,this.tracks=[]}onGettingArtists(e){return this.loadingService.toggle(!0),this.userService.getTopTracks(e,50).then(a=>{this.tracks=a,this.tabSelected=e,setTimeout(()=>{this.loadingService.toggle(!1)},500)}).catch(()=>{this.storageService.removeLocalStorageItem(),this.storageService.removeLocalStorageItem("access-token-date"),setTimeout(()=>{this.loadingService.toggle(!1);const a=new p.j("Access Token Error","Access token expired, new token is needed.");return this.errorService.callError("",a)},100)})}ngOnInit(){return this.attributeService.updatePageState("top-tracks"),this.onGettingArtists("long_term")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.T),t.Y36(d.c),t.Y36(k.K),t.Y36(m.V),t.Y36(u.b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-top-tracks"]],standalone:!0,features:[t.jDz],decls:14,vars:5,consts:[[1,"top-tracks"],[1,"top-tracks__header"],[1,"top-tracks__heading"],[1,"top-tracks__terms"],["size","large",3,"buttonStyle","clicked"],[1,"top-tracks__grid"],["class","top-tracks__no-tracks",4,"ngIf"],["class","top-tracks__tracks",4,"ngIf"],[1,"top-tracks__no-tracks"],[1,"no-tracks__heading"],[1,"no-tracks__label"],[1,"top-tracks__tracks"],["class","top-tracks__item",4,"ngFor","ngForOf"],[1,"top-tracks__item"],[1,"tracks__image"],["loading","lazy",3,"src","alt"],[1,"tracks__details"],[1,"tracks__name"],[1,"tracks__artists"],[1,"tracks__duration"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Top tracks"),t.qZA(),t.TgZ(4,"div",3)(5,"app-button",4),t.NdJ("clicked",function(){return a.onGettingArtists("long_term")}),t._uU(6," All time "),t.qZA(),t.TgZ(7,"app-button",4),t.NdJ("clicked",function(){return a.onGettingArtists("medium_term")}),t._uU(8," Last 6 Months "),t.qZA(),t.TgZ(9,"app-button",4),t.NdJ("clicked",function(){return a.onGettingArtists("short_term")}),t._uU(10," Last 4 Weeks "),t.qZA()()(),t.TgZ(11,"div",5),t.YNc(12,h,5,0,"div",6),t.YNc(13,S,2,1,"ul",7),t.qZA()()),2&e&&(t.xp6(5),t.Q6J("buttonStyle","long_term"===a.tabSelected?"text-link-active":"text-link"),t.xp6(2),t.Q6J("buttonStyle","medium_term"===a.tabSelected?"text-link-active":"text-link"),t.xp6(2),t.Q6J("buttonStyle","short_term"===a.tabSelected?"text-link-active":"text-link"),t.xp6(3),t.Q6J("ngIf",!a.tracks.length),t.xp6(1),t.Q6J("ngIf",a.tracks.length))},dependencies:[o.ez,o.sg,o.O5,l.m,f.r,T.H,c.mZ],styles:[".top-tracks{margin:24px 56px}@media only screen and (max-width: 767px){.top-tracks{padding:80px 0 0}}.top-tracks__header{display:flex;align-items:baseline;justify-content:space-between}.top-tracks__heading{font-family:Signika,sans-serif;font-size:28px;font-weight:400}.top-tracks__grid{margin-top:24px}.top-tracks__no-tracks{text-align:center}.top-tracks__no-tracks .no-tracks__heading{font-family:Signika,sans-serif;font-size:36px;font-weight:400;font-weight:700}.top-tracks__no-tracks .no-tracks__label{font-family:Signika,sans-serif;font-size:14px;font-weight:400;font-weight:300}.top-tracks__tracks{list-style:none;padding:0}.top-tracks__item{display:flex;justify-content:space-between;align-items:center}.top-tracks__item .tracks__image img{width:50px;margin-right:24px}.top-tracks__item .tracks__details{width:100%}.top-tracks__item .tracks__name{font-family:Signika,sans-serif;font-size:18px;font-weight:400}.top-tracks__item .tracks__artists,.top-tracks__item .tracks__duration{font-family:Signika,sans-serif;font-size:14px;font-weight:400;font-weight:300;color:#b4b4b4}\n"],encapsulation:2}),n})()}}]);