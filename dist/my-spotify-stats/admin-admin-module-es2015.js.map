{"version":3,"sources":["./src/app/admin/admin.module.ts","./src/app/admin/components/dashboard/dashboard.component.ts","./src/app/admin/components/dashboard/dashboard.component.html","./src/app/admin/components/login/login.component.ts","./src/app/admin/components/login/login.component.html","./src/app/shared/models/user-model.service.ts","./src/app/shared/services/user.service.ts"],"names":[],"mappings":"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","file":"admin-admin-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginComponent } from './components/login/login.component';\nimport { SharedModule } from 'Shared/shared.module';\nimport { DashboardComponent } from './components/dashboard/dashboard.component';\n\nconst routes: Routes = [\n  { path: '', component: LoginComponent},\n  { path: 'dashboard', component: DashboardComponent }\n];\n\n@NgModule({\n  declarations: [\n    LoginComponent,\n    DashboardComponent\n  ],\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes),\n    SharedModule\n  ],\n  exports: [RouterModule]\n})\nexport class AdminModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { StorageService } from '../../../shared/services/storage.service';\nimport { UserService } from 'src/app/shared/services/user.service';\nimport { User } from 'src/app/shared/classes/user';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.scss']\n})\nexport class DashboardComponent implements OnInit {\n  user: User = new User();\n\n  constructor(private storageService: StorageService, private userService: UserService) { }\n\n  /**\n   * gets tokens from url\n   * @param locationHash - location hash key\n   */\n  getAccessTokenFromUrl(locationHash: string): string {\n    return locationHash.split('').slice(14).slice(0, -34).join('');\n  }\n\n  /**\n   * On init\n   */\n  ngOnInit(): void {\n    this.userService.getUser().then(user => this.user = user);\n    if (document.location.href.indexOf('#') > -1) {\n      const accessToken = this.getAccessTokenFromUrl(location.hash);\n      this.storageService.setLocalStorageItem('access-token', accessToken);\n      document.location.href = '/dashboard';\n    }\n  }\n\n}\n","<div class=\"dashboard\">\n  <div class=\"dashboard__content-box\">\n    <h1>Welcome, {{user.name}}</h1>\n    <div class=\"dashboard__grid\">\n      <a class=\"dashboard__grid-item\" routerLink=\"/top-tracks\">\n        <div class=\"dashboard__grid-item-header\">Top Tracks</div>\n        <div class=\"dashboard__grid-item-description\">\n          View your most listened tracks and switch between 3 different time periods. Your data is updated approximately everyday.\n        </div>\n      </a>\n      <a class=\"dashboard__grid-item\" routerLink=\"/top-artists\">\n        <div class=\"dashboard__grid-item-header\">Top Artists</div>\n        <div class=\"dashboard__grid-item-description\">\n          View your most listened Artists and switch between 3 different time periods. Your data is updated approximately everyday.\n        </div>\n      </a>\n      <a class=\"dashboard__grid-item\" routerLink=\"/recently-played\">\n        <div class=\"dashboard__grid-item-header\">Recently Played</div>\n        <div class=\"dashboard__grid-item-description\">\n          Check out your recently played tracks with timestamps.\n        </div>\n      </a>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { AuthoriseService } from 'Shared/services/authorise.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit {\n\n  constructor(private auth: AuthoriseService) { }\n\n  /**\n   * on click\n   */\n  onClick(): void {\n    window.location.href = this.auth.logIn();\n  }\n\n  /**\n   * On onit\n   */\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"login\">\n  <div class=\"login__container\">\n    <img class=\"login__logo\" src=\"/my-spotify-stats/assets/img/spotifytool.png\">\n    <p>Log in with your Spotify account to gain access to many useful tools for your music needs.</p>\n    <a class=\"login__cta\" (click)=\"onClick()\">Login</a>\n  </div>\n</div>\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { StorageService } from '../services/storage.service';\nimport { User } from '../classes/user';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserModelService {\n  private spotifyUrl = 'https://api.spotify.com/v1/me';\n\n  constructor(private storageService: StorageService, private http: HttpClient) {}\n\n  private fromPayload(response: any): User {\n    const user = new User();\n    user.id = response.id;\n    user.name = response.display_name;\n    user.email = response.email;\n    user.image = response.images[0].url;\n    user.country = response.country;\n    user.followers = response.total;\n    user.uri = response.uri;\n    \n    return user;\n  }\n\n  getUser(): Promise<any> {\n    return this.http.get(`${this.spotifyUrl}`, {\n      headers: {\n        Authorization: `Bearer ` +  this.storageService.getLocalStorageItem()\n      }\n    }).toPromise().then(res => {\n      return this.fromPayload(res);\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { UserModelService } from '../models/user-model.service';\nimport { User } from '../classes/user';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserService {\n\n  constructor(private userModel: UserModelService) { }\n\n  getUser(): Promise<User> {\n    return this.userModel.getUser();\n  }\n}\n"],"sourceRoot":"webpack:///"}