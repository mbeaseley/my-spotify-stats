(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{jkDv:function(t,e,o){"use strict";o.r(e);var n=o("ofXK"),i=o("tyNb"),r=o("AytR"),a=o("fXoL"),s=o("BR5C");let d=(()=>{class t{constructor(t){this.auth=t,this.logo=`${r.a.route}assets/img/spotifytool.png`}onClick(){window.location.href=`${location.origin}${location.pathname}dashboard`}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(a.Jb(s.a))},t.\u0275cmp=a.Db({type:t,selectors:[["app-login"]],decls:7,vars:1,consts:[[1,"login"],[1,"login__container"],[1,"login__logo",3,"src"],[1,"login__cta",3,"click"]],template:function(t,e){1&t&&(a.Mb(0,"div",0),a.Mb(1,"div",1),a.Kb(2,"img",2),a.Mb(3,"p"),a.ic(4,"Log in with your Spotify account to gain access to many useful tools for your music needs."),a.Lb(),a.Mb(5,"a",3),a.Ub("click",(function(t){return e.onClick()})),a.ic(6,"Login"),a.Lb(),a.Lb(),a.Lb()),2&t&&(a.zb(2),a.ac("src",e.logo,a.fc))},styles:[".login[_ngcontent-%COMP%]{background-color:#000;width:100vw;height:97vh}.login__container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);max-width:500px;padding:20px;border:1px solid #fff;color:#fff;text-align:center}.login__logo[_ngcontent-%COMP%]{max-width:200px;max-height:200px;padding:10px}.login__cta[_ngcontent-%COMP%]{display:inline-block;border-radius:999rem;padding:10px 30px;background-color:#1db954;border:none;color:#fff;font-size:14px;outline:none;margin:10px;text-decoration:none;cursor:pointer}.login__cta[_ngcontent-%COMP%]:hover{background-color:#38e775}"]}),t})();var c=o("PCNd"),b=o("yDZI"),l=o("fbMX"),g=o("tk/3");let p=(()=>{class t{constructor(t,e){this.storageService=t,this.http=e,this.spotifyUrl="https://api.spotify.com/v1/me"}fromPayload(t){const e=new b.a;return e.id=t.id,e.name=t.display_name,e.email=t.email,e.image=t.images[0].url,e.country=t.country,e.followers=t.total,e.uri=t.uri,e}getUser(){return this.http.get(`${this.spotifyUrl}`,{headers:{Authorization:"Bearer "+this.storageService.getLocalStorageItem()}}).toPromise().then(t=>this.fromPayload(t))}}return t.\u0275fac=function(e){return new(e||t)(a.Qb(l.a),a.Qb(g.a))},t.\u0275prov=a.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),h=(()=>{class t{constructor(t){this.userModel=t}getUser(){return this.userModel.getUser()}}return t.\u0275fac=function(e){return new(e||t)(a.Qb(p))},t.\u0275prov=a.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),_=(()=>{class t{constructor(t,e){this.storageService=t,this.userService=e,this.user=new b.a}getAccessTokenFromUrl(t){return t.split("").slice(14).slice(0,-34).join("")}ngOnInit(){if(this.userService.getUser().then(t=>this.user=t),document.location.href.indexOf("#")>-1){const t=this.getAccessTokenFromUrl(location.hash);this.storageService.setLocalStorageItem("access-token",t),document.location.href="/dashboard"}}}return t.\u0275fac=function(e){return new(e||t)(a.Jb(l.a),a.Jb(h))},t.\u0275cmp=a.Db({type:t,selectors:[["app-dashboard"]],decls:20,vars:1,consts:[[1,"dashboard"],[1,"dashboard__content-box"],[1,"dashboard__grid"],["routerLink","/top-tracks",1,"dashboard__grid-item"],[1,"dashboard__grid-item-header"],[1,"dashboard__grid-item-description"],["routerLink","/top-artists",1,"dashboard__grid-item"],["routerLink","/recently-played",1,"dashboard__grid-item"]],template:function(t,e){1&t&&(a.Mb(0,"div",0),a.Mb(1,"div",1),a.Mb(2,"h1"),a.ic(3),a.Lb(),a.Mb(4,"div",2),a.Mb(5,"a",3),a.Mb(6,"div",4),a.ic(7,"Top Tracks"),a.Lb(),a.Mb(8,"div",5),a.ic(9," View your most listened tracks and switch between 3 different time periods. Your data is updated approximately everyday. "),a.Lb(),a.Lb(),a.Mb(10,"a",6),a.Mb(11,"div",4),a.ic(12,"Top Artists"),a.Lb(),a.Mb(13,"div",5),a.ic(14," View your most listened Artists and switch between 3 different time periods. Your data is updated approximately everyday. "),a.Lb(),a.Lb(),a.Mb(15,"a",7),a.Mb(16,"div",4),a.ic(17,"Recently Played"),a.Lb(),a.Mb(18,"div",5),a.ic(19," Check out your recently played tracks with timestamps. "),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb()),2&t&&(a.zb(3),a.kc("Welcome, ",e.user.name,""))},directives:[i.c],styles:[".dashboard__grid-item[_ngcontent-%COMP%] > .dashboard__grid-item-description[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif}.dashboard__grid-item[_ngcontent-%COMP%] > .dashboard__grid-item-header[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}.dashboard[_ngcontent-%COMP%]{min-height:84vh;max-width:1000px;margin:80px auto 40px}.dashboard__content-box[_ngcontent-%COMP%]{margin:24px}.dashboard__content-box[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:36px}@media(max-width:766px){.dashboard__content-box[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:32px}}.dashboard__grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;grid-gap:12px}@media(max-width:766px){.dashboard__grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.dashboard__grid-item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;justify-content:space-between;background:#1db954;color:#fff;padding:16px;height:200px;text-decoration:none}.dashboard__grid-item[_ngcontent-%COMP%]:hover{background:#38e775}.dashboard__grid-item[_ngcontent-%COMP%] > .dashboard__grid-item-header[_ngcontent-%COMP%]{font-size:32px;font-weight:700}@media(max-width:766px){.dashboard__grid-item[_ngcontent-%COMP%] > .dashboard__grid-item-header[_ngcontent-%COMP%]{font-size:28px}}.dashboard__grid-item[_ngcontent-%COMP%] > .dashboard__grid-item-description[_ngcontent-%COMP%]{min-height:72px}"]}),t})();o.d(e,"AdminModule",(function(){return u}));const m=[{path:"",component:d},{path:"dashboard",component:_}];let u=(()=>{class t{}return t.\u0275mod=a.Hb({type:t}),t.\u0275inj=a.Gb({factory:function(e){return new(e||t)},imports:[[n.b,i.d.forChild(m),c.a],i.d]}),t})()}}]);