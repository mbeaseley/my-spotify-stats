function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{jkDv:function(t,e,n){"use strict";n.r(e);var o,i,r,a,s=n("ofXK"),c=n("tyNb"),d=n("AytR"),l=n("fXoL"),b=n("BR5C"),u=((o=function(){function t(e){_classCallCheck(this,t),this.auth=e,this.logo="".concat(d.a.route,"assets/img/spotifytool.png")}return _createClass(t,[{key:"onClick",value:function(){window.location.href=this.auth.logIn()}},{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||o)(l.Jb(b.a))},o.\u0275cmp=l.Db({type:o,selectors:[["app-login"]],decls:7,vars:1,consts:[[1,"login"],[1,"login__container"],[1,"login__logo",3,"src"],[1,"login__cta",3,"click"]],template:function(t,e){1&t&&(l.Mb(0,"div",0),l.Mb(1,"div",1),l.Kb(2,"img",2),l.Mb(3,"p"),l.ic(4,"Log in with your Spotify account to gain access to many useful tools for your music needs."),l.Lb(),l.Mb(5,"a",3),l.Ub("click",(function(t){return e.onClick()})),l.ic(6,"Login"),l.Lb(),l.Lb(),l.Lb()),2&t&&(l.zb(2),l.ac("src",e.logo,l.fc))},styles:[".login[_ngcontent-%COMP%]{background-color:#000;width:100vw;height:97vh}.login__container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);max-width:500px;padding:20px;border:1px solid #fff;color:#fff;text-align:center}.login__logo[_ngcontent-%COMP%]{max-width:200px;max-height:200px;padding:10px}.login__cta[_ngcontent-%COMP%]{display:inline-block;border-radius:999rem;padding:10px 30px;background-color:#1db954;border:none;color:#fff;font-size:14px;outline:none;margin:10px;text-decoration:none;cursor:pointer}.login__cta[_ngcontent-%COMP%]:hover{background-color:#38e775}"]}),o),h=n("PCNd"),g=n("yDZI"),f=n("fbMX"),p=n("tk/3"),_=((a=function(){function t(e,n){_classCallCheck(this,t),this.storageService=e,this.http=n,this.spotifyUrl="https://api.spotify.com/v1/me"}return _createClass(t,[{key:"fromPayload",value:function(t){var e=new g.a;return e.id=t.id,e.name=t.display_name,e.email=t.email,e.image=t.images[0].url,e.country=t.country,e.followers=t.total,e.uri=t.uri,e}},{key:"getUser",value:function(){var t=this;return this.http.get("".concat(this.spotifyUrl),{headers:{Authorization:"Bearer "+this.storageService.getLocalStorageItem()}}).toPromise().then((function(e){return t.fromPayload(e)}))}}]),t}()).\u0275fac=function(t){return new(t||a)(l.Qb(f.a),l.Qb(p.a))},a.\u0275prov=l.Fb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),m=((r=function(){function t(e){_classCallCheck(this,t),this.userModel=e}return _createClass(t,[{key:"getUser",value:function(){return this.userModel.getUser()}}]),t}()).\u0275fac=function(t){return new(t||r)(l.Qb(_))},r.\u0275prov=l.Fb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),y=((i=function(){function t(e,n){_classCallCheck(this,t),this.storageService=e,this.userService=n,this.user=new g.a}return _createClass(t,[{key:"getAccessTokenFromUrl",value:function(t){return t.split("").slice(14).slice(0,-34).join("")}},{key:"ngOnInit",value:function(){var t=this;if(this.userService.getUser().then((function(e){return t.user=e})),document.location.href.indexOf("#")>-1){var e=this.getAccessTokenFromUrl(location.hash);this.storageService.setLocalStorageItem("access-token",e),document.location.href="/dashboard"}}}]),t}()).\u0275fac=function(t){return new(t||i)(l.Jb(f.a),l.Jb(m))},i.\u0275cmp=l.Db({type:i,selectors:[["app-dashboard"]],decls:20,vars:1,consts:[[1,"dashboard"],[1,"dashboard__content-box"],[1,"dashboard__grid"],["routerLink","/top-tracks",1,"dashboard__grid-item"],[1,"dashboard__grid-item-header"],[1,"dashboard__grid-item-description"],["routerLink","/top-artists",1,"dashboard__grid-item"],["routerLink","/recently-played",1,"dashboard__grid-item"]],template:function(t,e){1&t&&(l.Mb(0,"div",0),l.Mb(1,"div",1),l.Mb(2,"h1"),l.ic(3),l.Lb(),l.Mb(4,"div",2),l.Mb(5,"a",3),l.Mb(6,"div",4),l.ic(7,"Top Tracks"),l.Lb(),l.Mb(8,"div",5),l.ic(9," View your most listened tracks and switch between 3 different time periods. Your data is updated approximately everyday. "),l.Lb(),l.Lb(),l.Mb(10,"a",6),l.Mb(11,"div",4),l.ic(12,"Top Artists"),l.Lb(),l.Mb(13,"div",5),l.ic(14," View your most listened Artists and switch between 3 different time periods. Your data is updated approximately everyday. "),l.Lb(),l.Lb(),l.Mb(15,"a",7),l.Mb(16,"div",4),l.ic(17,"Recently Played"),l.Lb(),l.Mb(18,"div",5),l.ic(19," Check out your recently played tracks with timestamps. "),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Lb()),2&t&&(l.zb(3),l.kc("Welcome, ",e.user.name,""))},directives:[c.c],styles:[".dashboard__grid-item[_ngcontent-%COMP%] > .dashboard__grid-item-description[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif}.dashboard__grid-item[_ngcontent-%COMP%] > .dashboard__grid-item-header[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}.dashboard[_ngcontent-%COMP%]{min-height:84vh;max-width:1000px;margin:80px auto 40px}.dashboard__content-box[_ngcontent-%COMP%]{margin:24px}.dashboard__content-box[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:36px}@media(max-width:766px){.dashboard__content-box[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:32px}}.dashboard__grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;grid-gap:12px}@media(max-width:766px){.dashboard__grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.dashboard__grid-item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;justify-content:space-between;background:#1db954;color:#fff;padding:16px;height:200px;text-decoration:none}.dashboard__grid-item[_ngcontent-%COMP%]:hover{background:#38e775}.dashboard__grid-item[_ngcontent-%COMP%] > .dashboard__grid-item-header[_ngcontent-%COMP%]{font-size:32px;font-weight:700}@media(max-width:766px){.dashboard__grid-item[_ngcontent-%COMP%] > .dashboard__grid-item-header[_ngcontent-%COMP%]{font-size:28px}}.dashboard__grid-item[_ngcontent-%COMP%] > .dashboard__grid-item-description[_ngcontent-%COMP%]{min-height:72px}"]}),i);n.d(e,"AdminModule",(function(){return C}));var v,x=[{path:"",component:u},{path:"dashboard",component:y}],C=((v=function t(){_classCallCheck(this,t)}).\u0275mod=l.Hb({type:v}),v.\u0275inj=l.Gb({factory:function(t){return new(t||v)},imports:[[s.b,c.d.forChild(x),h.a],c.d]}),v)}}]);