"use strict";(self.webpackChunkmy_spotify_stats=self.webpackChunkmy_spotify_stats||[]).push([[416],{3416:(O,_,i)=>{i.r(_),i.d(_,{TopArtistsComponent:()=>S});var a=i(6895),l=i(6787),p=i(4466),d=i(6257),t=i(8274),c=i(4578),g=i(8019),m=i(6e3),u=i(1303),v=i(5134),h=i(42);function f(n,r){1&n&&(t.TgZ(0,"div",8)(1,"div",9),t._uU(2,"Sorry, there was no artists found!"),t.qZA(),t.TgZ(3,"div",10),t._uU(4,"Please wait a minute and refresh to try again!"),t.qZA()())}function T(n,r){if(1&n&&(t.TgZ(0,"div",13),t._UZ(1,"img",14),t.TgZ(2,"div",15),t._uU(3),t.qZA()()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("src",null==e?null:e.image,t.LSH)("alt",null==e?null:e.name),t.xp6(2),t.Oqu(null==e?null:e.name)}}function A(n,r){if(1&n&&(t.TgZ(0,"div",11),t.YNc(1,T,4,3,"div",12),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.artists)}}let S=(()=>{class n{constructor(e,s,o,E,x){this.errorService=e,this.attributeService=s,this.userService=o,this.storageService=E,this.loadingService=x,this.artists=[]}onGettingArtists(e){return this.loadingService.toggle(!0),this.userService.getTopArtists(e,50).then(s=>{this.artists=s,this.tabSelected=e,setTimeout(()=>{this.loadingService.toggle(!1)},500)}).catch(()=>{this.storageService.removeLocalStorageItem(),this.storageService.removeLocalStorageItem("access-token-date"),setTimeout(()=>{this.loadingService.toggle(!1);const s=new d.j("Access Token Error","Access token expired, new token is needed.");return this.errorService.callError("",s)},100)})}ngOnInit(){return this.attributeService.updatePageState("top-artists"),this.onGettingArtists("long_term")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.T),t.Y36(g.c),t.Y36(m.K),t.Y36(u.V),t.Y36(v.b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-top-artists"]],standalone:!0,features:[t.jDz],decls:14,vars:5,consts:[[1,"top-artists"],[1,"top-artists__header"],[1,"top-artists__heading"],[1,"top-artists__terms"],["size","large",3,"buttonStyle","clicked"],[1,"top-artists__grid"],["class","top-artists__no-artists",4,"ngIf"],["class","top-artists__artists",4,"ngIf"],[1,"top-artists__no-artists"],[1,"no-artists__heading"],[1,"no-artists__label"],[1,"top-artists__artists"],["class","top-artists__item",4,"ngFor","ngForOf"],[1,"top-artists__item"],["loading","lazy",3,"src","alt"],[1,"top-artists__item-label"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Top Artists"),t.qZA(),t.TgZ(4,"div",3)(5,"app-button",4),t.NdJ("clicked",function(){return s.onGettingArtists("long_term")}),t._uU(6," All time "),t.qZA(),t.TgZ(7,"app-button",4),t.NdJ("clicked",function(){return s.onGettingArtists("medium_term")}),t._uU(8," Last 6 Months "),t.qZA(),t.TgZ(9,"app-button",4),t.NdJ("clicked",function(){return s.onGettingArtists("short_term")}),t._uU(10," Last 4 Weeks "),t.qZA()()(),t.TgZ(11,"div",5),t.YNc(12,f,5,0,"div",6),t.YNc(13,A,2,1,"div",7),t.qZA()()),2&e&&(t.xp6(5),t.Q6J("buttonStyle","long_term"===s.tabSelected?"text-link-active":"text-link"),t.xp6(2),t.Q6J("buttonStyle","medium_term"===s.tabSelected?"text-link-active":"text-link"),t.xp6(2),t.Q6J("buttonStyle","short_term"===s.tabSelected?"text-link-active":"text-link"),t.xp6(3),t.Q6J("ngIf",!s.artists.length),t.xp6(1),t.Q6J("ngIf",s.artists.length))},dependencies:[a.ez,a.sg,a.O5,p.m,h.r,l.mZ],styles:[".top-artists{margin:24px 56px}@media only screen and (max-width: 767px){.top-artists{padding:80px 0 0}}.top-artists__header{display:flex;align-items:baseline;justify-content:space-between}.top-artists__heading{font-family:Signika,sans-serif;font-size:28px;font-weight:400}.top-artists__grid{margin-top:24px}.top-artists__no-artists{text-align:center}.top-artists__no-artists .no-artists__heading{font-family:Signika,sans-serif;font-size:36px;font-weight:400;font-weight:700}.top-artists__no-artists .no-artists__label{font-family:Signika,sans-serif;font-size:14px;font-weight:400;font-weight:300}.top-artists__artists{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));grid-gap:20px;gap:20px;text-align:center}.top-artists__item img{border-radius:100%;width:100%}\n"],encapsulation:2}),n})()}}]);