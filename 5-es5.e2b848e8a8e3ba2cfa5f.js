!function(){function t(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||e(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{JBAE:function(t,e,n){var r=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var e,n,r;try{e=Map}catch(s){e=function(){}}try{n=Set}catch(s){n=function(){}}try{r=Promise}catch(s){r=function(){}}function i(o,s,c,l,u){"object"==typeof s&&(c=s.depth,l=s.prototype,u=s.includeNonEnumerable,s=s.circular);var d=[],h=[],f="undefined"!=typeof Buffer;return void 0===s&&(s=!0),void 0===c&&(c=1/0),function o(c,p){if(null===c)return null;if(0===p)return c;var g,v;if("object"!=typeof c)return c;if(t(c,e))g=new e;else if(t(c,n))g=new n;else if(t(c,r))g=new r((function(t,e){c.then((function(e){t(o(e,p-1))}),(function(t){e(o(t,p-1))}))}));else if(i.__isArray(c))g=[];else if(i.__isRegExp(c))g=new RegExp(c.source,a(c)),c.lastIndex&&(g.lastIndex=c.lastIndex);else if(i.__isDate(c))g=new Date(c.getTime());else{if(f&&Buffer.isBuffer(c))return g=Buffer.allocUnsafe?Buffer.allocUnsafe(c.length):new Buffer(c.length),c.copy(g),g;t(c,Error)?g=Object.create(c):void 0===l?(v=Object.getPrototypeOf(c),g=Object.create(v)):(g=Object.create(l),v=l)}if(s){var y=d.indexOf(c);if(-1!=y)return h[y];d.push(c),h.push(g)}for(var b in t(c,e)&&c.forEach((function(t,e){var n=o(e,p-1),r=o(t,p-1);g.set(n,r)})),t(c,n)&&c.forEach((function(t){var e=o(t,p-1);g.add(e)})),c){var m;v&&(m=Object.getOwnPropertyDescriptor(v,b)),m&&null==m.set||(g[b]=o(c[b],p-1))}if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(c);for(b=0;b<_.length;b++){var k=_[b];(!(C=Object.getOwnPropertyDescriptor(c,k))||C.enumerable||u)&&(g[k]=o(c[k],p-1),C.enumerable||Object.defineProperty(g,k,{enumerable:!1}))}}if(u){var w=Object.getOwnPropertyNames(c);for(b=0;b<w.length;b++){var C,x=w[b];(C=Object.getOwnPropertyDescriptor(c,x))&&C.enumerable||(g[x]=o(c[x],p-1),Object.defineProperty(g,x,{enumerable:!1}))}}return g}(o,c)}function o(t){return Object.prototype.toString.call(t)}function a(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return i.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},i.__objToStr=o,i.__isDate=function(t){return"object"==typeof t&&"[object Date]"===o(t)},i.__isArray=function(t){return"object"==typeof t&&"[object Array]"===o(t)},i.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===o(t)},i.__getRegExpFlags=a,i}();t.exports&&(t.exports=r)},QgiU:function(t,e,n){t.exports=function(){"use strict";return function(t,e,n){t=t||{};var r=e.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};n.en.relativeTime=i;var o=function(e,r,o,a){for(var s,c,l,u=o.$locale().relativeTime||i,d=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],h=d.length,f=0;f<h;f+=1){var p=d[f];p.d&&(s=a?n(e).diff(o,p.d,!0):o.diff(e,p.d,!0));var g=(t.rounding||Math.round)(Math.abs(s));if(l=s>0,g<=p.r||!p.r){g<=1&&f>0&&(p=d[f-1]);var v=u[p.l];c="string"==typeof v?v.replace("%d",g):v(g,r,p.l,l);break}}return r?c:(l?u.future:u.past).replace("%s",c)};r.to=function(t,e){return o(t,e,this,!0)},r.from=function(t,e){return o(t,e,this)};var a=function(t){return t.$u?n.utc():n()};r.toNow=function(t){return this.to(a(this),t)},r.fromNow=function(t){return this.from(a(this),t)}}}()},lehC:function(n,i,a){"use strict";a.r(i),a.d(i,"ContentModule",(function(){return Fe}));var s=a("ofXK"),l=a("tyNb"),d=a("fXoL"),h=a("HDdC"),f=a("DH7j"),p=a("lJxs"),g=a("XoHu"),v=a("Cfvw");function y(t,e){return new h.a((function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var c=Object(v.a)(t[s]),l=!1;n.add(c.subscribe({next:function(t){l||(l=!0,a++),i[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&l||(a===r&&n.next(e?e.reduce((function(t,e,n){return t[e]=i[n],t}),{}):i),n.complete())}}))},c=0;c<r;c++)s(c);else n.complete()}))}var b,m,_,k=((m=function(){function t(){c(this,t)}return u(t,[{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),t}()).\u0275fac=function(t){return new(t||m)},m.\u0275dir=d.Cb({type:m}),m),w=((b=function(t){r(n,t);var e=o(n);function n(){return c(this,n),e.apply(this,arguments)}return u(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(k)).\u0275fac=function(t){return C(t||b)},b.\u0275dir=d.Cb({type:b,features:[d.ub]}),b),C=d.Mb(w),x=((_=function(t){r(n,t);var e=o(n);function n(t){return c(this,n),e.call(this,t)}return n}(function(){function t(e){c(this,t),this._cd=e}return u(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}())).\u0275fac=function(t){return new(t||_)(d.Hb(w,2))},_.\u0275dir=d.Cb({type:_,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&d.zb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[d.ub]}),_);function S(t){return null==t||0===t.length}function V(t){return null!=t&&"number"==typeof t.length}var A=new d.q("NgValidators"),O=new d.q("NgAsyncValidators"),E=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,P=function(){function e(){c(this,e)}return u(e,null,[{key:"min",value:function(t){return function(e){if(S(e.value)||S(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(S(e.value)||S(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return S(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return S(t.value)||E.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){return S(e.value)||!V(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"maxLength",value:function(t){return function(e){return V(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),n=new RegExp(r)):(r=t.toString(),n=t),function(t){if(S(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):e.nullValidator;var n,r}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(I);return 0==e.length?null:function(t){return T(D(t,e))}}},{key:"composeAsync",value:function(e){if(!e)return null;var n=e.filter(I);return 0==n.length?null:function(e){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(1===n.length){var i=n[0];if(Object(f.a)(i))return y(i,null);if(Object(g.a)(i)&&Object.getPrototypeOf(i)===Object.prototype){var o=Object.keys(i);return y(o.map((function(t){return i[t]})),o)}}if("function"==typeof n[n.length-1]){var a=n.pop();return y(n=1===n.length&&Object(f.a)(n[0])?n[0]:n,null).pipe(Object(p.a)((function(e){return a.apply(void 0,t(e))})))}return y(n,null)}(D(e,n).map(j)).pipe(Object(p.a)(T))}}}]),e}();function I(t){return null!=t}function j(t){var e=Object(d.pb)(t)?Object(v.a)(t):t;if(!Object(d.ob)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function T(t){var e={};return t.forEach((function(t){e=null!=t?Object.assign(Object.assign({},e),t):e})),0===Object.keys(e).length?null:e}function D(t,e){return e.map((function(e){return e(t)}))}function L(t){return t.map((function(t){return function(t){return!t.validate}(t)?t:function(e){return t.validate(e)}}))}var M,J=((M=function(){function t(){c(this,t),this._accessors=[]}return u(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}()).\u0275fac=function(t){return new(t||M)},M.\u0275prov=d.Db({token:M,factory:M.\u0275fac}),M);function K(t,e){t||R(e,"Cannot find control with"),e.valueAccessor||R(e,"No value accessor for form control with"),t.validator=P.compose([t.validator,e.validator]),t.asyncValidator=P.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&F(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&F(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function F(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function N(t,e){null==t&&R(e,"Cannot find control with"),t.validator=P.compose([t.validator,e.validator]),t.asyncValidator=P.composeAsync([t.asyncValidator,e.asyncValidator])}function U(t){return R(t,"There is no FormControl instance attached to form control element with")}function R(t,e){var n;throw n=t.path.length>1?"path: '".concat(t.path.join(" -> "),"'"):t.path[0]?"name: '".concat(t.path,"'"):"unspecified name attribute",new Error("".concat(e," ").concat(n))}function z(t){return null!=t?P.compose(L(t)):null}function B(t){return null!=t?P.composeAsync(L(t)):null}function H(t){var e=G(t)?t.validators:t;return Array.isArray(e)?z(e):e||null}function X(t,e){var n=G(e)?e.asyncValidators:t;return Array.isArray(n)?B(n):n||null}function G(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var $,q,Z,W,Y,Q,tt,et,nt=function(){function t(e,n){c(this,t),this.validator=e,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return u(t,[{key:"setValidators",value:function(t){this.validator=H(t)}},{key:"setAsyncValidators",value:function(t){this.asyncValidator=X(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=j(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return e.setErrors(n,{emitEvent:t})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach((function(t){r=r instanceof it?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof ot&&r.at(t)||null})),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new d.n,this.statusChanges=new d.n}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls((function(e){return e.status===t}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(t){return t.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(t){return t.touched}))}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){G(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}}]),t}(),rt=function(t){r(n,t);var e=o(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return c(this,n),(t=e.call(this,H(i),X(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t._initObservables(),t}return u(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(t){return t(e.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(nt),it=function(t){r(n,t);var e=o(n);function n(t,r,i){var o;return c(this,n),(o=e.call(this,H(r),X(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return u(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach((function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof rt?e.value:e.getRawValue(),t}))}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){for(var e=0,n=Object.keys(this.controls);e<n.length;e++){var r=n[e],i=this.controls[r];if(this.contains(r)&&t(i))return!0}return!1}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},(function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e}))}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild((function(t,r){n=e(n,t,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(nt),ot=function(t){r(i,t);var n=o(i);function i(t,e,r){var o;return c(this,i),(o=n.call(this,H(e),X(r,e))).controls=t,o._initObservables(),o._setUpdateStrategy(e),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return u(i,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach((function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map((function(t){return t instanceof rt?t.value:t.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}},{key:"_forEachChild",value:function(t){this.controls.forEach((function(e,n){t(e,n)}))}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))}},{key:"_anyControls",value:function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var t,n=function(t,n){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=e(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return s=t.done,t},e:function(t){c=!0,a=t},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw a}}}}(this.controls);try{for(n.s();!(t=n.n()).done;){if(t.value.enabled)return!1}}catch(r){n.e(r)}finally{n.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),i}(nt),at=(($=function t(){c(this,t)}).\u0275fac=function(t){return new(t||$)},$.\u0275dir=d.Cb({type:$,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),$),st=new d.q("NgModelWithFormControlWarning"),ct={provide:w,useExisting:Object(d.S)((function(){return lt}))},lt=((Q=function(t){r(n,t);var e=o(n);function n(t,r){var i;return c(this,n),(i=e.call(this))._validators=t,i._asyncValidators=r,i.submitted=!1,i.directives=[],i.form=null,i.ngSubmit=new d.n,i}return u(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return K(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e,n,r;e=this.directives,n=t,(r=e.indexOf(n))>-1&&e.splice(r,1)}},{key:"addFormGroup",value:function(t){var e=this.form.get(t.path);N(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(t){}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){var e=this.form.get(t.path);N(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(t){}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})),this.ngSubmit.emit(t),!1;var e}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach((function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){e.valueAccessor.registerOnChange((function(){return U(e)})),e.valueAccessor.registerOnTouched((function(){return U(e)})),e._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),e._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),t&&t._clearChangeFns()}(e.control,e),n&&K(n,e),e.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var t=this;this.form._registerOnCollectionChange((function(){return t._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var t=z(this._validators);this.form.validator=P.compose([this.form.validator,t]);var e=B(this._asyncValidators);this.form.asyncValidator=P.composeAsync([this.form.asyncValidator,e])}},{key:"_checkFormPresent",value:function(){this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(w)).\u0275fac=function(t){return new(t||Q)(d.Hb(A,10),d.Hb(O,10))},Q.\u0275dir=d.Cb({type:Q,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&d.Rb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d.wb([ct]),d.ub,d.vb]}),Q),ut=((Y=function t(){c(this,t)}).\u0275mod=d.Fb({type:Y}),Y.\u0275inj=d.Eb({factory:function(t){return new(t||Y)}}),Y),dt=((W=function(){function t(){c(this,t)}return u(t,[{key:"group",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(t),r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new it(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(t,e,n){return new rt(t,e,n)}},{key:"array",value:function(t,e,n){var r=this,i=t.map((function(t){return r._createControl(t)}));return new ot(i,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach((function(r){n[r]=e._createControl(t[r])})),n}},{key:"_createControl",value:function(t){return t instanceof rt||t instanceof it||t instanceof ot?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}()).\u0275fac=function(t){return new(t||W)},W.\u0275prov=d.Db({token:W,factory:W.\u0275fac}),W),ht=((Z=function t(){c(this,t)}).\u0275mod=d.Fb({type:Z}),Z.\u0275inj=d.Eb({factory:function(t){return new(t||Z)},providers:[J],imports:[ut]}),Z),ft=((q=function(){function t(){c(this,t)}return u(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:st,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}()).\u0275mod=d.Fb({type:q}),q.\u0275inj=d.Eb({factory:function(t){return new(t||q)},providers:[dt,J],imports:[ut]}),q),pt=a("wf0l"),gt=a("PCNd"),vt=a("vyH0"),yt=a("JBAE"),bt=function(){function t(){c(this,t)}return u(t,[{key:"clone",value:function(){return yt(this)}}]),t}(),mt=function(){function t(){c(this,t)}return u(t,[{key:"clone",value:function(){return yt(this)}}]),t}(),_t=a("Wgwc"),kt=a("fbMX"),wt=a("tk/3"),Ct=((et=function(){function t(e,n){c(this,t),this.storageService=e,this.http=n,this.spotifyUrl="https://api.spotify.com/"}return u(t,[{key:"fromPayload",value:function(t){return t.items.map((function(t){var e=new bt;return e.id=t.track.id,e.trackName=t.track.name,e.trackDuration=t.track.duration_ms,e.artists=t.track.artists.map((function(t){var e=new mt;return e.id=t.id,e.artistName=t.name,e.externalLink=t.external_urls.spotify,e})),e.played=_t(t.played_at),e.uri=t.track.uri,e}))}},{key:"getRecentlyPlayedSongs",value:function(){var t=this;return this.http.get(this.spotifyUrl+"v1/me/player/recently-played?type=track&limit=50",{headers:{Authorization:"Bearer "+this.storageService.getLocalStorageItem()}}).toPromise().then((function(e){return t.fromPayload(e)}))}}]),t}()).\u0275fac=function(t){return new(t||et)(d.Ob(kt.a),d.Ob(wt.a))},et.\u0275prov=d.Db({token:et,factory:et.\u0275fac,providedIn:"root"}),et),xt=((tt=function(){function t(e){c(this,t),this.recentlyPlayedModel=e}return u(t,[{key:"getRecentlyPlayedSong",value:function(){return this.recentlyPlayedModel.getRecentlyPlayedSongs()}}]),t}()).\u0275fac=function(t){return new(t||tt)(d.Ob(Ct))},tt.\u0275prov=d.Db({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt),St=a("QOwt"),Vt=a("9tZb");function At(t,e){if(1&t&&(d.Kb(0,"div",3),d.hc(1),d.Jb()),2&t){var n=d.Tb();d.xb(1),d.ic(n.message)}}var Ot,Et,Pt,It=function(t){return{"show-fullscreen":t}},jt=((Pt=function t(){c(this,t),this.fullscreen=!1}).\u0275fac=function(t){return new(t||Pt)},Pt.\u0275cmp=d.Bb({type:Pt,selectors:[["app-loading-spinner"]],inputs:{message:"message",fullscreen:"fullscreen"},decls:3,vars:4,consts:[[1,"loading-spinner",3,"ngClass"],[1,"loading-spinner__loader"],["class","loading-spinner__message",4,"ngIf"],[1,"loading-spinner__message"]],template:function(t,e){1&t&&(d.Kb(0,"div",0),d.Ib(1,"div",1),d.gc(2,At,2,1,"div",2),d.Jb()),2&t&&(d.Xb("ngClass",d.Yb(2,It,e.fullscreen)),d.xb(2),d.Xb("ngIf",e.message))},directives:[s.h,s.j],styles:['@-webkit-keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.loading-spinner[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1000;display:flex;align-items:center;justify-content:center}.loading-spinner.show-fullscreen[_ngcontent-%COMP%]{width:100vw;height:100vh}.loading-spinner[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;z-index:1000;background-color:#000;opacity:.7}.loading-spinner__loader[_ngcontent-%COMP%]{border-radius:50%;border:16px solid #f3f3f3;border-top-color:#1db954;width:7em;height:7em;z-index:inherit;-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite}']}),Pt),Tt=((Et=function(){function t(){c(this,t)}return u(t,[{key:"transform",value:function(t){return t?t.map((function(t){return t.artistName})).join(", "):""}}]),t}()).\u0275fac=function(t){return new(t||Et)},Et.\u0275pipe=d.Gb({name:"joinArray",type:Et,pure:!0}),Et),Dt=((Ot=function(){function t(){c(this,t)}return u(t,[{key:"transform",value:function(t,e){return _t(t).format(e)}}]),t}()).\u0275fac=function(t){return new(t||Ot)},Ot.\u0275pipe=d.Gb({name:"localeDate",type:Ot,pure:!0}),Ot);function Lt(t,e){if(1&t){var n=d.Lb();d.Kb(0,"tr",5),d.Rb("click",(function(){d.cc(n);var t=e.$implicit;return d.Tb().onClick(t.uri)})),d.Kb(1,"td"),d.hc(2),d.Jb(),d.Kb(3,"td"),d.hc(4),d.Ub(5,"joinArray"),d.Jb(),d.Kb(6,"td"),d.hc(7),d.Ub(8,"localeDate"),d.Jb(),d.Jb()}if(2&t){var r=e.$implicit;d.xb(2),d.ic(r.trackName),d.xb(2),d.ic(d.Vb(5,3,r.artists)),d.xb(3),d.ic(d.Wb(8,5,r.played,"DD/MM/YYYY, hh:mm A"))}}function Mt(t,e){1&t&&d.Ib(0,"app-loading-spinner",6)}var Jt,Kt,Ft,Nt=((Ft=function(){function t(e,n,r){c(this,t),this.recentlyPlayedService=e,this.errorService=n,this.attributeService=r,this.loading=!1}return u(t,[{key:"onClick",value:function(t){window.open(t,"_blank")}},{key:"ngOnInit",value:function(){var t=this;return this.attributeService.updatePageState("recently-played"),this.loading=!0,this.recentlyPlayedService.getRecentlyPlayedSong().then((function(e){t.tracks=e,t.loading=!1})).catch((function(){var e=new vt.a("Access Token Error","Access token expired, new token is needed.");t.errorService.callError("",e)}))}}]),t}()).\u0275fac=function(t){return new(t||Ft)(d.Hb(xt),d.Hb(St.a),d.Hb(Vt.a))},Ft.\u0275cmp=d.Bb({type:Ft,selectors:[["app-recently-played"]],decls:11,vars:2,consts:[[1,"recently-played"],[1,"recently-played__table"],[1,"recently-played__table-header"],["class","recently-played__table-row",3,"click",4,"ngFor","ngForOf"],["fullscreen","true",4,"ngIf"],[1,"recently-played__table-row",3,"click"],["fullscreen","true"]],template:function(t,e){1&t&&(d.Kb(0,"div",0),d.Kb(1,"table",1),d.Kb(2,"tr",2),d.Kb(3,"th"),d.hc(4,"Track"),d.Jb(),d.Kb(5,"th"),d.hc(6,"Artist(s)"),d.Jb(),d.Kb(7,"th"),d.hc(8,"Played At"),d.Jb(),d.Jb(),d.gc(9,Lt,9,8,"tr",3),d.Jb(),d.Jb(),d.gc(10,Mt,1,0,"app-loading-spinner",4)),2&t&&(d.xb(9),d.Xb("ngForOf",e.tracks),d.xb(1),d.Xb("ngIf",e.loading))},directives:[s.i,s.j,jt],pipes:[Tt,Dt],styles:[".recently-played{display:flex;justify-content:center;min-height:88vh;max-width:1040px;margin:66px auto 24px}@media (max-width:766px){.recently-played{margin:66px 12px 24px}}.recently-played__table{margin:0 24px;border-spacing:0;line-height:1.35;width:100%}.recently-played__table-header{font-size:18px}.recently-played__table-row{font-size:16px;color:#b4b4b4;cursor:pointer;border-spacing:0}.recently-played__table-row:hover{background:#636363;color:#fff}"],encapsulation:2}),Ft),Ut=((Kt=function(){function t(e,n){c(this,t),this.storageService=e,this.http=n,this.spotifyUrl="https://api.spotify.com/v1/me/top/"}return u(t,[{key:"fromPayload",value:function(t,e){return t.items.map((function(t,n){if(e){var r=new bt;return r.id=t.id,r.trackName=t.name,r.trackImage=t.album.images[0].url,r.artists=t.artists.map((function(t){var e=new mt;return e.id=t.id,e.artistName=t.name,e.externalLink=t.external_urls.spotify,e})),r.uri=t.uri,r}var i=new mt;return i.id=t.id,i.artistName=t.name,i.artistImage=t.images[0].url,i.externalLink=t.uri,i.order=n+1,i}))}},{key:"getLists",value:function(t,e){var n=this;return this.http.get("".concat(this.spotifyUrl).concat(t,"?time_range=").concat(e,"&limit=50"),{headers:{Authorization:"Bearer "+this.storageService.getLocalStorageItem()}}).toPromise().then((function(e){return n.fromPayload(e,"tracks"===t)}))}}]),t}()).\u0275fac=function(t){return new(t||Kt)(d.Ob(kt.a),d.Ob(wt.a))},Kt.\u0275prov=d.Db({token:Kt,factory:Kt.\u0275fac,providedIn:"root"}),Kt),Rt=((Jt=function(){function t(e){c(this,t),this.topListsModelService=e}return u(t,[{key:"topLists",value:function(t,e){return this.topListsModelService.getLists(t,e)}}]),t}()).\u0275fac=function(t){return new(t||Jt)(d.Ob(Ut))},Jt.\u0275prov=d.Db({token:Jt,factory:Jt.\u0275fac,providedIn:"root"}),Jt);function zt(t,e){if(1&t){var n=d.Lb();d.Kb(0,"tr",8),d.Rb("click",(function(){d.cc(n);var t=e.$implicit;return d.Tb().onTrackClick(t.uri)})),d.Kb(1,"td"),d.hc(2),d.Jb(),d.Kb(3,"td"),d.Ib(4,"img",9),d.Jb(),d.Kb(5,"td"),d.hc(6),d.Jb(),d.Kb(7,"td"),d.hc(8),d.Ub(9,"joinArray"),d.Jb(),d.Jb()}if(2&t){var r=e.$implicit,i=e.index;d.xb(2),d.ic(i+1),d.xb(2),d.Xb("lazyLoad",r.trackImage)("alt",r.trackName),d.xb(2),d.ic(r.trackName),d.xb(2),d.ic(d.Vb(9,5,r.artists))}}function Bt(t,e){1&t&&d.Ib(0,"app-loading-spinner",10)}var Ht,Xt=((Ht=function(){function t(e,n,r){c(this,t),this.topListsService=e,this.errorService=n,this.attributeService=r,this.tracks=[],this.loading=!1}return u(t,[{key:"onClick",value:function(t,e){var n=this;document.querySelector(".top-tracks__tab-item--active").classList.remove("top-tracks__tab-item--active");var r=document.querySelector("#"+e);return r.classList.add("top-tracks__tab-item--active"),this.tabSelected=r.innerHTML,this.loading=!0,this.topListsService.topLists("tracks",t).then((function(t){n.tracks=t,n.loading=!1})).catch((function(){var t=new vt.a("Access Token Error","Access token expired, new token is needed.");n.errorService.callError("",t)}))}},{key:"onTrackClick",value:function(t){window.open(t,"_blank")}},{key:"ngOnInit",value:function(){var t=this;return this.attributeService.updatePageState("top-tracks"),this.tabSelected="Last 4 Weeks",this.loading=!0,this.topListsService.topLists("tracks","short_term").then((function(e){t.tracks=e,t.loading=!1})).catch((function(){var e=new vt.a("Access Token Error","Access token expired, new token is needed.");t.errorService.callError("",e)}))}}]),t}()).\u0275fac=function(t){return new(t||Ht)(d.Hb(Rt),d.Hb(St.a),d.Hb(Vt.a))},Ht.\u0275cmp=d.Bb({type:Ht,selectors:[["app-top-tracks"]],decls:13,vars:3,consts:[[1,"top-tracks"],[1,"top-tracks__tabs"],["id","top-tracks-short",1,"top-tracks__tab-item","top-tracks__tab-item--active",3,"click"],["id","top-tracks-mid",1,"top-tracks__tab-item",3,"click"],["id","top-tracks-long",1,"top-tracks__tab-item",3,"click"],[1,"top-tracks__leaderboard"],["class","top-tracks__leaderboard-row",3,"click",4,"ngFor","ngForOf"],["fullscreen","true",4,"ngIf"],[1,"top-tracks__leaderboard-row",3,"click"],[3,"lazyLoad","alt"],["fullscreen","true"]],template:function(t,e){1&t&&(d.Kb(0,"div",0),d.Kb(1,"h1"),d.hc(2),d.Jb(),d.Kb(3,"div",1),d.Kb(4,"button",2),d.Rb("click",(function(){return e.onClick("short_term","top-tracks-short")})),d.hc(5,"Last 4 Weeks"),d.Jb(),d.Kb(6,"button",3),d.Rb("click",(function(){return e.onClick("medium_term","top-tracks-mid")})),d.hc(7,"Last 6 Months"),d.Jb(),d.Kb(8,"button",4),d.Rb("click",(function(){return e.onClick("long_term","top-tracks-long")})),d.hc(9,"All Time"),d.Jb(),d.Jb(),d.Kb(10,"table",5),d.gc(11,zt,10,7,"tr",6),d.Jb(),d.Jb(),d.gc(12,Bt,1,0,"app-loading-spinner",7)),2&t&&(d.xb(2),d.jc("Top Tracks (",e.tabSelected,")"),d.xb(9),d.Xb("ngForOf",e.tracks),d.xb(1),d.Xb("ngIf",e.loading))},directives:[s.i,s.j,pt.d,jt],pipes:[Tt],styles:[".top-tracks{min-height:86vh;max-width:1140px;margin:80px auto 24px;text-align:center}@media (max-width:992px){.top-tracks{max-width:800px}}.top-tracks__tabs{display:flex;justify-content:space-around;overflow:hidden}.top-tracks__tab-item{background:transparent;width:100%;padding:12px 0;font-size:18px;color:#b4b4b4;border:none;border-bottom:1px solid #b4b4b4;cursor:pointer}.top-tracks__tab-item:focus{outline:none}.top-tracks__tab-item--active,.top-tracks__tab-item:hover{color:#fff;border:1px solid #b4b4b4;border-bottom:none}.top-tracks__leaderboard{width:100%;border-spacing:0}.top-tracks__leaderboard-row{border-spacing:0;cursor:pointer}.top-tracks__leaderboard-row:hover{background:#636363}.top-tracks__leaderboard-row>td{text-align:left;padding-left:8px}.top-tracks__leaderboard-row>td:last-of-type{color:#b4b4b4}.top-tracks__leaderboard-row>td>img{height:50px;width:50px}"],encapsulation:2}),Ht);function Gt(t,e){if(1&t){var n=d.Lb();d.Kb(0,"a",8),d.Rb("click",(function(){d.cc(n);var t=e.$implicit;return d.Tb().onArtistClick(t.externalLink)})),d.Ib(1,"img",9),d.Kb(2,"p"),d.hc(3),d.Jb(),d.Jb()}if(2&t){var r=e.$implicit;d.xb(1),d.Xb("lazyLoad",r.artistImage)("alt",r.artistName),d.xb(2),d.kc("",r.order,".",r.artistName,"")}}function $t(t,e){1&t&&d.Ib(0,"app-loading-spinner",10)}var qt,Zt,Wt,Yt,Qt,te,ee,ne,re,ie=((qt=function(){function t(e,n,r){c(this,t),this.topListsService=e,this.errorService=n,this.attributeService=r,this.artists=[],this.loading=!1}return u(t,[{key:"onClick",value:function(t,e){var n=this;document.querySelector(".top-artists__tab-item--active").classList.remove("top-artists__tab-item--active");var r=document.querySelector("#"+e);return r.classList.add("top-artists__tab-item--active"),this.tabSelected=r.innerHTML,this.loading=!0,this.topListsService.topLists("artists",t).then((function(t){n.artists=t,n.loading=!1})).catch((function(){var t=new vt.a("Access Token Error","Access token expired, new token is needed.");n.errorService.callError("",t)}))}},{key:"onArtistClick",value:function(t){window.open(t,"_blank")}},{key:"ngOnInit",value:function(){var t=this;return this.attributeService.updatePageState("top-artists"),this.tabSelected="Last 4 Weeks",this.loading=!0,this.topListsService.topLists("artists","short_term").then((function(e){t.artists=e,t.loading=!1})).catch((function(){var e=new vt.a("Access Token Error","Access token expired, new token is needed.");t.errorService.callError("",e)}))}}]),t}()).\u0275fac=function(t){return new(t||qt)(d.Hb(Rt),d.Hb(St.a),d.Hb(Vt.a))},qt.\u0275cmp=d.Bb({type:qt,selectors:[["app-top-artists"]],decls:13,vars:3,consts:[[1,"top-artists"],[1,"top-artists__tabs"],["id","top-artists-short",1,"top-artists__tab-item","top-artists__tab-item--active",3,"click"],["id","top-artists-mid",1,"top-artists__tab-item",3,"click"],["id","top-artists-long",1,"top-artists__tab-item",3,"click"],[1,"top-artists__leaderboard"],["class","top-artists__leaderboard-item",3,"click",4,"ngFor","ngForOf"],["fullscreen","true",4,"ngIf"],[1,"top-artists__leaderboard-item",3,"click"],[3,"lazyLoad","alt"],["fullscreen","true"]],template:function(t,e){1&t&&(d.Kb(0,"div",0),d.Kb(1,"h1"),d.hc(2),d.Jb(),d.Kb(3,"div",1),d.Kb(4,"button",2),d.Rb("click",(function(){return e.onClick("short_term","top-artists-short")})),d.hc(5,"Last 4 Weeks"),d.Jb(),d.Kb(6,"button",3),d.Rb("click",(function(){return e.onClick("medium_term","top-artists-mid")})),d.hc(7,"Last 6 Months"),d.Jb(),d.Kb(8,"button",4),d.Rb("click",(function(){return e.onClick("long_term","top-artists-long")})),d.hc(9,"All Time"),d.Jb(),d.Jb(),d.Kb(10,"div",5),d.gc(11,Gt,4,4,"a",6),d.Jb(),d.Jb(),d.gc(12,$t,1,0,"app-loading-spinner",7)),2&t&&(d.xb(2),d.jc("Top Artists (",e.tabSelected,")"),d.xb(9),d.Xb("ngForOf",e.artists),d.xb(1),d.Xb("ngIf",e.loading))},directives:[s.i,s.j,pt.d,jt],styles:[".top-artists{min-height:86vh;max-width:1140px;margin:80px auto 24px;text-align:center}@media (max-width:992px){.top-artists{max-width:800px}}.top-artists__tabs{display:flex;justify-content:space-around;overflow:hidden}.top-artists__tab-item{background:transparent;width:100%;padding:12px 0;font-size:18px;color:#b4b4b4;border:none;border-bottom:1px solid #b4b4b4;cursor:pointer}.top-artists__tab-item:focus{outline:none}.top-artists__tab-item--active,.top-artists__tab-item:hover{color:#fff;border:1px solid #b4b4b4;border-bottom:none}.top-artists__leaderboard{display:grid;grid-template-columns:1fr 1fr 1fr;grid-gap:12px;margin-top:24px;width:100%}@media (max-width:766px){.top-artists__leaderboard{grid-template-columns:1fr 1fr}}.top-artists__leaderboard-item{display:flex;flex-direction:column;justify-content:flex-end;width:100%;min-height:250px;background-color:#1b1b1b;cursor:pointer}.top-artists__leaderboard-item:hover{background:#636363}.top-artists__leaderboard-item>img{width:100%}"],encapsulation:2}),qt),oe=function t(){c(this,t)},ae=function t(){c(this,t)},se=((Zt=function(){function t(e,n){c(this,t),this.storageService=e,this.http=n,this.spotifyUrl="https://api.spotify.com/v1/me/playlists"}return u(t,[{key:"fromPayload",value:function(t){return t.items.map((function(t){var e=new oe;return e.id=t.id,e.name=t.name,e.description=t.description,e.owner=new ae,e.owner.id=t.owner.id,e.owner.name=t.owner.display_name,e.owner.uri=t.owner.uri,e.collaborative=t.collaborative,e.uri=t.uri,e}))}},{key:"getUserPlaylist",value:function(){var t=this;return this.http.get(this.spotifyUrl+"?limit=50&offset=0",{headers:{Authorization:"Bearer "+this.storageService.getLocalStorageItem()}}).toPromise().then((function(e){return t.fromPayload(e)}))}}]),t}()).\u0275fac=function(t){return new(t||Zt)(d.Ob(kt.a),d.Ob(wt.a))},Zt.\u0275prov=d.Db({token:Zt,factory:Zt.\u0275fac,providedIn:"root"}),Zt),ce=function(){function t(){c(this,t)}return u(t,[{key:"clone",value:function(){return yt(this)}}]),t}(),le=((Qt=function(){function t(e,n){c(this,t),this.storageService=e,this.http=n,this.spotifyUrl="https://api.spotify.com/v1/playlists/"}return u(t,[{key:"fromPayload",value:function(t){return t.items.map((function(t){var e=new ce;return e.addedAt=t.added_at,e.addedBy=new ae,e.addedBy.id=t.added_by.id,e.addedBy.uri=t.added_by.uri,e.track=new bt,e.track.id=t.track.id,e.track.trackName=t.track.name,e.track.artists=t.track.artists.map((function(t){var e=new mt;return e.id=t.id,e.artistName=t.name,e.externalLink=t.external_urls.spotify,e})),e.track.uri=t.track.uri,e}))}},{key:"getPlaylistTracks",value:function(t){var e=this;return this.http.get("".concat(this.spotifyUrl).concat(t,"/tracks"),{headers:{Authorization:"Bearer "+this.storageService.getLocalStorageItem()}}).toPromise().then((function(t){return e.fromPayload(t)}))}},{key:"params",value:function(t,e){return[{uri:t.track.id,positions:[e]}]}},{key:"deletePlaylistTrack",value:function(t,e,n){return this.http.delete("".concat(this.spotifyUrl).concat(t,"/tracks"),{headers:{Authorization:"Bearer "+this.storageService.getLocalStorageItem(),Accept:"application/json",ContentTypes:"application/json"},params:{tracks:JSON.stringify(this.params(e,n))}}).toPromise()}}]),t}()).\u0275fac=function(t){return new(t||Qt)(d.Ob(kt.a),d.Ob(wt.a))},Qt.\u0275prov=d.Db({token:Qt,factory:Qt.\u0275fac,providedIn:"root"}),Qt),ue=((Yt=function(){function t(e,n){c(this,t),this.playlistModelService=e,this.playlistTracksModel=n}return u(t,[{key:"getUserPlaylist",value:function(){return this.playlistModelService.getUserPlaylist()}},{key:"getPlaylistTracks",value:function(t){return this.playlistTracksModel.getPlaylistTracks(t)}},{key:"deleteTrackFromPlaylist",value:function(t,e,n){return this.playlistTracksModel.deletePlaylistTrack(t,e,n)}},{key:"removeIdenticalTracks",value:function(t,e){var n=this,r=e.map((function(t){return t.track.id})),i=(r=Array.from(new Set(r))).map((function(t){return e.slice().filter((function(e){return t===e.track.id}))}));return(i=i.filter((function(t){return 1!==t.length}))).forEach((function(e){var r=e.slice();e.forEach((function(e,i){if(r.length>1)return r.splice(i,1),n.deleteTrackFromPlaylist(t,e,i).then(console.log)}))})),null}}]),t}()).\u0275fac=function(t){return new(t||Yt)(d.Ob(se),d.Ob(le))},Yt.\u0275prov=d.Db({token:Yt,factory:Yt.\u0275fac,providedIn:"root"}),Yt),de=((Wt=function(){function t(e,n){c(this,t),this.playlistService=e,this.attributeService=n,this.playlists=[],this.playlistTracks=[],this.form=new it({playlist:new rt("",{validators:[P.required]})})}return u(t,[{key:"onPlaylistSelected",value:function(){var t=this,e=this.playlists.find((function(t){return"test"===t.name}));return this.playlistService.getPlaylistTracks(e.id).then((function(n){return t.playlistTracks=n,t.playlistService.removeIdenticalTracks(e.id,t.playlistTracks)})).then((function(t){return console.log(t)}))}},{key:"ngOnInit",value:function(){var t=this;return this.attributeService.updatePageState("remove-duplicates"),this.playlistService.getUserPlaylist().then((function(e){return t.playlists=e}))}}]),t}()).\u0275fac=function(t){return new(t||Wt)(d.Hb(ue),d.Hb(Vt.a))},Wt.\u0275cmp=d.Bb({type:Wt,selectors:[["app-remove-duplicates"]],decls:4,vars:1,consts:[[1,"remove-duplicates"],["name","form",1,"remove-duplicates__form",3,"formGroup"],[3,"click"]],template:function(t,e){1&t&&(d.Kb(0,"div",0),d.Kb(1,"form",1),d.Kb(2,"button",2),d.Rb("click",(function(){return e.onPlaylistSelected()})),d.hc(3,"TEST"),d.Jb(),d.Jb(),d.Jb()),2&t&&(d.xb(1),d.Xb("formGroup",e.form))},directives:[at,x,lt],styles:[".remove-duplicates{min-height:88vh;max-width:1140px;margin:66px auto 24px}"],encapsulation:2}),Wt),he=a("AytR"),fe=a("BR5C"),pe=function(){function t(e){c(this,t),this.code=e}return u(t,[{key:"clone",value:function(){return yt(this)}}]),t}(),ge=((re=function(){function t(e){c(this,t),this.http=e}return u(t,[{key:"fromPayload",value:function(t){var e=new pe;return e.name=t.name,e.nativeName=t.nativeName,e.code=t.alpha2Code,e}},{key:"convertCountryInitials",value:function(t){var e=this;return this.http.get("https://restcountries.eu/rest/v2/alpha?codes="+t).toPromise().then((function(t){return e.fromPayload(t[0])}))}}]),t}()).\u0275fac=function(t){return new(t||re)(d.Ob(wt.a))},re.\u0275prov=d.Db({token:re,factory:re.\u0275fac,providedIn:"root"}),re),ve=((ne=function(){function t(e){c(this,t),this.countryModelService=e}return u(t,[{key:"convertCountryInitials",value:function(t){return this.countryModelService.convertCountryInitials(t).then((function(t){return t}))}}]),t}()).\u0275fac=function(t){return new(t||ne)(d.Ob(ge))},ne.\u0275prov=d.Db({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne),ye=((ee=function(){function t(e,n,r){c(this,t),this.storageService=e,this.http=n,this.countryService=r,this.spotifyUrl="https://api.spotify.com/v1/me"}return u(t,[{key:"fromPayload",value:function(t){var e=new ae;return e.id=t.id,e.name=t.display_name,e.email=t.email,e.image=t.images[0].url,e.country=new pe,this.countryService.convertCountryInitials(t.country).then((function(n){e.country=n&&n.name?n:t.country})),e.followers=t.followers.total,e.uri=t.uri,e}},{key:"getUser",value:function(){var t=this;return this.http.get(""+this.spotifyUrl,{headers:{Authorization:"Bearer "+this.storageService.getLocalStorageItem()}}).toPromise().then((function(e){return t.fromPayload(e)}))}}]),t}()).\u0275fac=function(t){return new(t||ee)(d.Ob(kt.a),d.Ob(wt.a),d.Ob(ve))},ee.\u0275prov=d.Db({token:ee,factory:ee.\u0275fac,providedIn:"root"}),ee),be=((te=function(){function t(e){c(this,t),this.userModel=e}return u(t,[{key:"getUser",value:function(){return this.userModel.getUser()}}]),t}()).\u0275fac=function(t){return new(t||te)(d.Ob(ye))},te.\u0275prov=d.Db({token:te,factory:te.\u0275fac,providedIn:"root"}),te);function me(t,e){if(1&t&&(d.Kb(0,"div",4),d.Kb(1,"span"),d.hc(2),d.Jb(),d.hc(3),d.Jb()),2&t){var n=e.$implicit,r=d.Tb(2);d.xb(2),d.jc("",n.toUpperCase(),":"),d.xb(1),d.jc(" ",r.user[n].nativeName||r.user[n]," ")}}function _e(t,e){if(1&t){var n=d.Lb();d.Kb(0,"a",1),d.Rb("click",(function(){d.cc(n);var t=d.Tb();return t.onClick(t.userUri)})),d.Ib(1,"img",2),d.gc(2,me,4,2,"div",3),d.Jb()}if(2&t){var r=d.Tb();d.xb(1),d.Xb("lazyLoad",r.userImage)("alt",r.user.name),d.xb(1),d.Xb("ngForOf",r.objectKeys(r.user))}}var ke,we,Ce,xe,Se=((ke=function(){function t(){c(this,t),this.objectKeys=Object.keys}return u(t,[{key:"onClick",value:function(t){window.open(t,"_blank")}},{key:"ngOnChanges",value:function(t){this.user&&(this.userUri=this.user.uri,this.userImage=this.user.image,delete this.user.id,delete this.user.image,delete this.user.uri)}}]),t}()).\u0275fac=function(t){return new(t||ke)},ke.\u0275cmp=d.Bb({type:ke,selectors:[["app-profile"]],inputs:{user:"user"},features:[d.vb],decls:1,vars:1,consts:[["class","profile",3,"click",4,"ngIf"],[1,"profile",3,"click"],[1,"profile__image",3,"lazyLoad","alt"],["class","profile__table",4,"ngFor","ngForOf"],[1,"profile__table"]],template:function(t,e){1&t&&d.gc(0,_e,3,3,"a",0),2&t&&d.Xb("ngIf",null==e.user?null:e.user.name)},directives:[s.j,pt.d,s.i],styles:[".profile__table[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif}.profile[_ngcontent-%COMP%]{display:block;background:#1b1b1b;margin-bottom:12px;padding-bottom:24px;border:1px solid #fff;cursor:pointer}.profile[_ngcontent-%COMP%]:hover{background:#333}.profile__image[_ngcontent-%COMP%]{display:block;margin:0 auto 24px;padding-top:16px;border-radius:140px}.profile__table[_ngcontent-%COMP%]{margin:4px auto;width:305px}.profile__table[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;text-align:right;font-weight:700;width:108px;margin-right:12px}"]}),ke),Ve=a("QgiU"),Ae=((we=function(){function t(e){c(this,t),this.recentlyPlayedService=e,_t.extend(Ve)}return u(t,[{key:"getRandomFact",value:function(){var t=this;return this.recentlyPlayedService.getRecentlyPlayedSong().then((function(e){return 1===Math.floor(2*Math.random())+1?t.getRandomTimeBasedFact(e):t.getRandomArtistFact(e)}))}},{key:"getRandomArtistFact",value:function(t){var e=[],n=0,r={},i=[];return t.forEach((function(t){t.artists.forEach((function(t){e.push(t.artistName)}))})),e.forEach((function(t){r[t]?r[t]++:r[t]=1,r[t]>n?(n=r[t],i=[t]):r[t]===n&&i.push(t)})),"Your most popular recent artist is <br><span>".concat(i,"</span> with <span>").concat(n,"</span> times.")}},{key:"getRandomTimeBasedFact",value:function(t){var e=t[0].clone(),n=e.played.add(e.trackDuration,"ms");return _t().isAfter(n)?"Last used spotify <br><span>".concat(_t().from(n,!0),"</span> ago."):this.getRandomArtistFact(t)}}]),t}()).\u0275fac=function(t){return new(t||we)(d.Ob(xt))},we.\u0275prov=d.Db({token:we,factory:we.\u0275fac,providedIn:"root"}),we),Oe=a("jhN1"),Ee=((Ce=function(){function t(e){c(this,t),this.domSanitizer=e}return u(t,[{key:"transform",value:function(t){return this.domSanitizer.bypassSecurityTrustHtml(t)}}]),t}()).\u0275fac=function(t){return new(t||Ce)(d.Hb(Oe.b))},Ce.\u0275pipe=d.Gb({name:"noSansitize",type:Ce,pure:!0}),Ce),Pe=function(t,e){return{active:t,unactive:e}},Ie=((xe=function(){function t(e){c(this,t),this.statFactService=e,this.factShow=!1}return u(t,[{key:"onClick",value:function(){this.factShow=!this.factShow}},{key:"ngOnInit",value:function(){var t=this;return this.statFactService.getRandomFact().then((function(e){t.statFact=e}))}}]),t}()).\u0275fac=function(t){return new(t||xe)(d.Hb(Ae))},xe.\u0275cmp=d.Bb({type:xe,selectors:[["app-stat-fact"]],decls:8,vars:11,consts:[[1,"stat-fact","no-selectable",3,"click"],[1,"stat-fact__top-card",3,"ngClass"],[1,"stat-fact__back-card",3,"ngClass","innerHTML"]],template:function(t,e){1&t&&(d.Kb(0,"div",0),d.Rb("click",(function(){return e.onClick()})),d.Kb(1,"div",1),d.hc(2," Click for "),d.Ib(3,"br"),d.Kb(4,"span"),d.hc(5,"Random Stat Fact"),d.Jb(),d.Jb(),d.Ib(6,"div",2),d.Ub(7,"noSansitize"),d.Jb()),2&t&&(d.xb(1),d.Xb("ngClass",d.Zb(5,Pe,e.factShow,!e.factShow)),d.xb(5),d.Xb("ngClass",d.Zb(8,Pe,e.factShow,!e.factShow))("innerHTML",d.Vb(7,3,e.statFact),d.dc))},directives:[s.h],pipes:[Ee],styles:[".stat-fact__back-card,.stat-fact__top-card{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}.highlight{font-size:42px;color:#c9ed5f}.stat-fact{position:relative;display:flex;justify-content:center;align-items:center;height:32%;width:100%;background-image:linear-gradient(#e45ba6,#000);border:1px solid #fff;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width:766px){.stat-fact{height:200px}}.stat-fact>.active.stat-fact__top-card,.stat-fact>.unactive.stat-fact__top-card{transform:rotateX(-180deg)}.stat-fact>.active.stat-fact__back-card,.stat-fact>.unactive.stat-fact__back-card,.stat-fact>.unactive.stat-fact__top-card{transform:rotateX(0deg)}.stat-fact>.unactive.stat-fact__back-card{transform:rotateX(-180deg)}.stat-fact__back-card,.stat-fact__top-card{position:absolute;left:0;right:0;font-weight:700;font-size:32px;line-height:1.12;-webkit-backface-visibility:hidden;backface-visibility:hidden;transform:rotateX(0deg);transition:.5s}@media (max-width:766px){.stat-fact__back-card,.stat-fact__top-card{font-size:28px}}.stat-fact__back-card .highlight,.stat-fact__back-card>span,.stat-fact__top-card .highlight,.stat-fact__top-card>span{font-size:42px;color:#c9ed5f}.stat-fact__top-card{margin:0 48px;transform:rotateX(0deg)}.stat-fact__back-card{margin:0 56px;transform:rotateX(180deg);color:#fff;text-align:center}.stat-fact__back-card>span{font-size:42px;color:#c9ed5f!important}"],encapsulation:2}),xe);function je(t,e){if(1&t){var n=d.Lb();d.Kb(0,"div",4),d.Kb(1,"div",5),d.Kb(2,"div",6),d.Ib(3,"img",7),d.Kb(4,"p"),d.hc(5,"Log in with your Spotify account to gain access to many useful tools for your music needs."),d.Jb(),d.Kb(6,"a",8),d.Rb("click",(function(){return d.cc(n),d.Tb().onClick()})),d.hc(7,"Login"),d.Jb(),d.Jb(),d.Kb(8,"div",9),d.Kb(9,"p"),d.hc(10,"You may need to clear cache on your browser to successful login into tool. You can open an Incognito window."),d.Jb(),d.Jb(),d.Jb(),d.Jb()}if(2&t){var r=d.Tb();d.xb(3),d.Xb("lazyLoad",r.logo)}}function Te(t,e){if(1&t&&(d.Kb(0,"div",10),d.Kb(1,"div",11),d.Kb(2,"h1"),d.hc(3),d.Jb(),d.Kb(4,"div",12),d.Kb(5,"div",13),d.Ib(6,"app-profile",14),d.Ib(7,"app-stat-fact"),d.Jb(),d.Kb(8,"div",15),d.Kb(9,"a",16),d.Kb(10,"div",17),d.hc(11,"Top Tracks"),d.Jb(),d.Kb(12,"div",18),d.hc(13," View your most listened tracks and switch between 3 different time periods. Your data is updated approximately everyday. "),d.Jb(),d.Jb(),d.Kb(14,"a",19),d.Kb(15,"div",17),d.hc(16,"Top Artists"),d.Jb(),d.Kb(17,"div",18),d.hc(18," View your most listened Artists and switch between 3 different time periods. Your data is updated approximately everyday. "),d.Jb(),d.Jb(),d.Kb(19,"a",20),d.Kb(20,"div",17),d.hc(21,"Recently Played"),d.Jb(),d.Kb(22,"div",18),d.hc(23," Check out your recently played tracks with timestamps. "),d.Jb(),d.Jb(),d.Jb(),d.Jb(),d.Jb(),d.Jb()),2&t){var n=d.Tb();d.xb(3),d.jc("Welcome, ",null==n.user?null:n.user.name,""),d.xb(3),d.Xb("user",n.user)}}function De(t,e){1&t&&d.Ib(0,"app-loading-spinner",21)}var Le,Me,Je=((Le=function(){function t(e,n,r,i,o){c(this,t),this.auth=e,this.storageService=n,this.userService=r,this.errorService=i,this.attributeService=o,this.login=!1,this.loading=!1,this.logo=he.a.route+"assets/img/spotifytool.png",this.stateChanged=new d.n}return u(t,[{key:"onClick",value:function(){this.loading=!0,window.location.href=this.auth.logIn()}},{key:"getAccessTokenFromUrl",value:function(t){return t.split("").slice(14).slice(0,-34).join("")}},{key:"ngOnInit",value:function(){var t=this;this.attributeService.updatePageState("login"),this.login=!1,"reload"===performance.getEntriesByType("navigation")[0].type&&(document.location.href=he.a.route);var e=this.storageService.getSessionStorageItem("is-active");if(!e)return this.storageService.setSessionStorageItem("is-active","true");var n=this.storageService.getLocalStorageItem();if(null==n?void 0:n.length)return this.loading=!0,this.login=!0,this.userService.getUser().then((function(e){t.user=e,t.loading=!1,t.attributeService.updatePageState("dashboard")})).catch((function(){t.storageService.removeLocalStorageItem(),setTimeout((function(){if(t.loading=!1,t.login=!1,e){var n=new vt.a("Access Token Error","Access token expired, new token is needed.");t.errorService.callError("",n)}}),100)}));if(document.location.href.indexOf("#")>-1){var r=this.getAccessTokenFromUrl(location.hash);this.storageService.setLocalStorageItem("access-token",r),this.storageService.setLocalStorageItem("access-token-date",_t().format()),document.location.href=he.a.route}}}]),t}()).\u0275fac=function(t){return new(t||Le)(d.Hb(fe.a),d.Hb(kt.a),d.Hb(be),d.Hb(St.a),d.Hb(Vt.a))},Le.\u0275cmp=d.Bb({type:Le,selectors:[["app-dashboard"]],outputs:{stateChanged:"stateChanged"},decls:4,vars:3,consts:[[1,"dashboard"],["class","dashboard__login",4,"ngIf"],["class","dashboard__menu",4,"ngIf"],["fullscreen","true",4,"ngIf"],[1,"dashboard__login"],[1,"dashboard__login-group"],[1,"dashboard__login-container"],["alt","ccdesign logo",1,"dashboard__login-logo",3,"lazyLoad"],[1,"dashboard__login-cta",3,"click"],[1,"dashboard__login-tooltip"],[1,"dashboard__menu"],[1,"dashboard__menu-content-box"],[1,"dashboard__container"],[1,"dashboard__profile"],[3,"user"],[1,"dashboard__menu-grid"],["routerLink","/top-tracks",1,"dashboard__menu-grid-item"],[1,"dashboard__menu-grid-item-header"],[1,"dashboard__menu-grid-item-description"],["routerLink","/top-artists",1,"dashboard__menu-grid-item"],["routerLink","/recently-played",1,"dashboard__menu-grid-item"],["fullscreen","true"]],template:function(t,e){1&t&&(d.Kb(0,"div",0),d.gc(1,je,11,1,"div",1),d.gc(2,Te,24,2,"div",2),d.Jb(),d.gc(3,De,1,0,"app-loading-spinner",3)),2&t&&(d.xb(1),d.Xb("ngIf",!e.login),d.xb(1),d.Xb("ngIf",e.login),d.xb(1),d.Xb("ngIf",e.loading))},directives:[s.j,pt.d,Se,Ie,l.c,jt],styles:[".dashboard__menu-grid-item>.dashboard__menu-grid-item-description{font-family:Arial,Helvetica,sans-serif}.dashboard__menu-grid-item>.dashboard__menu-grid-item-header{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}body[ui-state=login] .dashboard__login{height:90vh}.dashboard__login{background-color:#000;width:100vw;height:97vh}.dashboard__login-group{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);max-width:500px}.dashboard__login-container{padding:24px;border:2px solid #fff;color:#fff;text-align:center}.dashboard__login-logo{max-width:200px;max-height:200px;padding:12px}.dashboard__login-cta{display:inline-block;border-radius:999rem;padding:12px 30px;background-color:#1db954;border:none;color:#fff;font-size:14px;outline:none;margin:12px;text-decoration:none;cursor:pointer}.dashboard__login-cta:hover{background-color:#38e775}.dashboard__login-tooltip{margin-top:12px;padding:0 24px;background-color:#424242;border:2px solid #fff}@media (max-width:766px){.dashboard__login-tooltip{display:none}}.dashboard__menu{min-height:84vh;max-width:1000px;margin:80px auto 40px}.dashboard__menu-content-box{margin:24px}.dashboard__menu-content-box>h1{font-size:36px}@media (max-width:766px){.dashboard__menu-content-box>h1{font-size:32px}}.dashboard__container{display:grid;grid-gap:32px;grid-template-columns:1fr 1fr}@media (max-width:766px){.dashboard__container{grid-template-columns:1fr}}.dashboard__menu-grid{display:grid;grid-template-columns:1fr;grid-gap:12px}.dashboard__menu-grid-item{display:flex;flex-direction:column;justify-content:space-between;background:#1db954;color:#fff;padding:16px;height:200px;text-decoration:none}.dashboard__menu-grid-item:hover{background:#38e775}.dashboard__menu-grid-item>.dashboard__menu-grid-item-header{font-size:32px;font-weight:700}@media (max-width:766px){.dashboard__menu-grid-item>.dashboard__menu-grid-item-header{font-size:28px}}.dashboard__menu-grid-item>.dashboard__menu-grid-item-description{min-height:72px}"],encapsulation:2}),Le),Ke=[{path:"",component:Je},{path:"callback",redirectTo:""},{path:"top-tracks",component:Xt,pathMatch:"full"},{path:"top-artists",component:ie,pathMatch:"full"},{path:"recently-played",component:Nt,pathMatch:"full"},{path:"remove-duplicates",component:de,pathMatch:"full"},{path:"**",component:Je}],Fe=((Me=function t(){c(this,t)}).\u0275mod=d.Fb({type:Me}),Me.\u0275inj=d.Eb({factory:function(t){return new(t||Me)},providers:[{provide:pt.a,useClass:pt.c}],imports:[[s.b,l.d.forChild(Ke),gt.a,ht,ft,pt.b],l.d]}),Me)}}])}();