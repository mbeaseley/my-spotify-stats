function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{JBAE:function(t,e,n){var r=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var e,n,r;try{e=Map}catch(s){e=function(){}}try{n=Set}catch(s){n=function(){}}try{r=Promise}catch(s){r=function(){}}function i(a,s,c,l,u){"object"==typeof s&&(c=s.depth,l=s.prototype,u=s.includeNonEnumerable,s=s.circular);var d=[],h=[],f="undefined"!=typeof Buffer;return void 0===s&&(s=!0),void 0===c&&(c=1/0),function a(c,p){if(null===c)return null;if(0===p)return c;var y,g;if("object"!=typeof c)return c;if(t(c,e))y=new e;else if(t(c,n))y=new n;else if(t(c,r))y=new r((function(t,e){c.then((function(e){t(a(e,p-1))}),(function(t){e(a(t,p-1))}))}));else if(i.__isArray(c))y=[];else if(i.__isRegExp(c))y=new RegExp(c.source,o(c)),c.lastIndex&&(y.lastIndex=c.lastIndex);else if(i.__isDate(c))y=new Date(c.getTime());else{if(f&&Buffer.isBuffer(c))return y=Buffer.allocUnsafe?Buffer.allocUnsafe(c.length):new Buffer(c.length),c.copy(y),y;t(c,Error)?y=Object.create(c):void 0===l?(g=Object.getPrototypeOf(c),y=Object.create(g)):(y=Object.create(l),g=l)}if(s){var v=d.indexOf(c);if(-1!=v)return h[v];d.push(c),h.push(y)}for(var b in t(c,e)&&c.forEach((function(t,e){var n=a(e,p-1),r=a(t,p-1);y.set(n,r)})),t(c,n)&&c.forEach((function(t){var e=a(t,p-1);y.add(e)})),c){var _;g&&(_=Object.getOwnPropertyDescriptor(g,b)),_&&null==_.set||(y[b]=a(c[b],p-1))}if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(c);for(b=0;b<m.length;b++){var k=m[b];(!(w=Object.getOwnPropertyDescriptor(c,k))||w.enumerable||u)&&(y[k]=a(c[k],p-1),w.enumerable||Object.defineProperty(y,k,{enumerable:!1}))}}if(u){var C=Object.getOwnPropertyNames(c);for(b=0;b<C.length;b++){var w,x=C[b];(w=Object.getOwnPropertyDescriptor(c,x))&&w.enumerable||(y[x]=a(c[x],p-1),Object.defineProperty(y,x,{enumerable:!1}))}}return y}(a,c)}function a(t){return Object.prototype.toString.call(t)}function o(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return i.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},i.__objToStr=a,i.__isDate=function(t){return"object"==typeof t&&"[object Date]"===a(t)},i.__isArray=function(t){return"object"==typeof t&&"[object Array]"===a(t)},i.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===a(t)},i.__getRegExpFlags=o,i}();t.exports&&(t.exports=r)},QgiU:function(t,e,n){t.exports=function(){"use strict";return function(t,e,n){t=t||{};var r=e.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};n.en.relativeTime=i;var a=function(e,r,a,o){for(var s,c,l,u=a.$locale().relativeTime||i,d=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],h=d.length,f=0;f<h;f+=1){var p=d[f];p.d&&(s=o?n(e).diff(a,p.d,!0):a.diff(e,p.d,!0));var y=(t.rounding||Math.round)(Math.abs(s));if(l=s>0,y<=p.r||!p.r){y<=1&&f>0&&(p=d[f-1]);var g=u[p.l];c="string"==typeof g?g.replace("%d",y):g(y,r,p.l,l);break}}return r?c:(l?u.future:u.past).replace("%s",c)};r.to=function(t,e){return a(t,e,this,!0)},r.from=function(t,e){return a(t,e,this)};var o=function(t){return t.$u?n.utc():n()};r.toNow=function(t){return this.to(o(this),t)},r.fromNow=function(t){return this.from(o(this),t)}}}()},lehC:function(t,e,n){"use strict";n.r(e),n.d(e,"ContentModule",(function(){return je}));var r=n("ofXK"),i=n("tyNb"),a=n("fXoL"),o=n("HDdC"),s=n("DH7j"),c=n("lJxs"),l=n("XoHu"),u=n("Cfvw");function d(t,e){return new o.a((function(n){var r=t.length;if(0!==r)for(var i=new Array(r),a=0,o=0,s=function(s){var c=Object(u.a)(t[s]),l=!1;n.add(c.subscribe({next:function(t){l||(l=!0,o++),i[s]=t},error:function(t){return n.error(t)},complete:function(){++a!==r&&l||(o===r&&n.next(e?e.reduce((function(t,e,n){return t[e]=i[n],t}),{}):i),n.complete())}}))},c=0;c<r;c++)s(c);else n.complete()}))}var h,f,p,y=((f=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),t}()).\u0275fac=function(t){return new(t||f)},f.\u0275dir=a.Cb({type:f}),f),g=((h=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(y)).\u0275fac=function(t){return v(t||h)},h.\u0275dir=a.Cb({type:h,features:[a.ub]}),h),v=a.Mb(g),b=((p=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(function(){function t(e){_classCallCheck(this,t),this._cd=e}return _createClass(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}())).\u0275fac=function(t){return new(t||p)(a.Hb(g,2))},p.\u0275dir=a.Cb({type:p,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&a.zb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[a.ub]}),p);function _(t){return null==t||0===t.length}function m(t){return null!=t&&"number"==typeof t.length}var k=new a.q("NgValidators"),C=new a.q("NgAsyncValidators"),w=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,x=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"min",value:function(t){return function(e){if(_(e.value)||_(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(_(e.value)||_(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return _(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return _(t.value)||w.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){return _(e.value)||!m(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"maxLength",value:function(t){return function(e){return m(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(_(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(S);return 0==e.length?null:function(t){return O(function(t,e){return e.map((function(e){return e(t)}))}(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(S);return 0==e.length?null:function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var r=e[0];if(Object(s.a)(r))return d(r,null);if(Object(l.a)(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return d(i.map((function(t){return r[t]})),i)}}if("function"==typeof e[e.length-1]){var a=e.pop();return d(e=1===e.length&&Object(s.a)(e[0])?e[0]:e,null).pipe(Object(c.a)((function(t){return a.apply(void 0,_toConsumableArray(t))})))}return d(e,null)}(function(t,e){return e.map((function(e){return e(t)}))}(t,e).map(A)).pipe(Object(c.a)(O))}}}]),t}();function S(t){return null!=t}function A(t){var e=Object(a.pb)(t)?Object(u.a)(t):t;if(!Object(a.ob)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function O(t){var e={};return t.forEach((function(t){e=null!=t?Object.assign(Object.assign({},e),t):e})),0===Object.keys(e).length?null:e}function V(t){return t.validate?function(e){return t.validate(e)}:t}function E(t){return t.validate?function(e){return t.validate(e)}:t}var P,I=((P=function(){function t(){_classCallCheck(this,t),this._accessors=[]}return _createClass(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}()).\u0275fac=function(t){return new(t||P)},P.\u0275prov=a.Db({token:P,factory:P.\u0275fac}),P);function T(t,e){t||M(e,"Cannot find control with"),e.valueAccessor||M(e,"No value accessor for form control with"),t.validator=x.compose([t.validator,e.validator]),t.asyncValidator=x.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&j(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&j(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function j(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function D(t,e){null==t&&M(e,"Cannot find control with"),t.validator=x.compose([t.validator,e.validator]),t.asyncValidator=x.composeAsync([t.asyncValidator,e.asyncValidator])}function L(t){return M(t,"There is no FormControl instance attached to form control element with")}function M(t,e){var n;throw n=t.path.length>1?"path: '".concat(t.path.join(" -> "),"'"):t.path[0]?"name: '".concat(t.path,"'"):"unspecified name attribute",new Error("".concat(e," ").concat(n))}function J(t){return null!=t?x.compose(t.map(V)):null}function K(t){return null!=t?x.composeAsync(t.map(E)):null}function F(t){var e=R(t)?t.validators:t;return Array.isArray(e)?J(e):e||null}function N(t,e){var n=R(e)?e.asyncValidators:t;return Array.isArray(n)?K(n):n||null}function R(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var U,z,H,B,X,G,$,q,W=function(){function t(e,n){_classCallCheck(this,t),this.validator=e,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(t,[{key:"setValidators",value:function(t){this.validator=F(t)}},{key:"setAsyncValidators",value:function(t){this.asyncValidator=N(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=A(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return e.setErrors(n,{emitEvent:t})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach((function(t){r=r instanceof Y?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Q&&r.at(t)||null})),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new a.n,this.statusChanges=new a.n}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls((function(e){return e.status===t}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(t){return t.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(t){return t.touched}))}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){R(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}}]),t}(),Z=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(t=e.call(this,F(i),N(a,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t._initObservables(),t}return _createClass(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(t){return t(e.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(W),Y=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var a;return _classCallCheck(this,n),(a=e.call(this,F(r),N(i,r))).controls=t,a._initObservables(),a._setUpdateStrategy(r),a._setUpControls(),a.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),a}return _createClass(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach((function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof Z?e.value:e.getRawValue(),t}))}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){for(var e=0,n=Object.keys(this.controls);e<n.length;e++){var r=n[e],i=this.controls[r];if(this.contains(r)&&t(i))return!0}return!1}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},(function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e}))}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild((function(t,r){n=e(n,t,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(W),Q=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var a;return _classCallCheck(this,n),(a=e.call(this,F(r),N(i,r))).controls=t,a._initObservables(),a._setUpdateStrategy(r),a._setUpControls(),a.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),a}return _createClass(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach((function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map((function(t){return t instanceof Z?t.value:t.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}},{key:"_forEachChild",value:function(t){this.controls.forEach((function(e,n){t(e,n)}))}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))}},{key:"_anyControls",value:function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var t,e=_createForOfIteratorHelper(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(W),tt=((U=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||U)},U.\u0275dir=a.Cb({type:U,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),U),et=new a.q("NgModelWithFormControlWarning"),nt={provide:g,useExisting:Object(a.S)((function(){return rt}))},rt=((G=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._validators=t,i._asyncValidators=r,i.submitted=!1,i.directives=[],i.form=null,i.ngSubmit=new a.n,i}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return T(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e,n,r;e=this.directives,n=t,(r=e.indexOf(n))>-1&&e.splice(r,1)}},{key:"addFormGroup",value:function(t){var e=this.form.get(t.path);D(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(t){}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){var e=this.form.get(t.path);D(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(t){}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})),this.ngSubmit.emit(t),!1;var e}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach((function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){e.valueAccessor.registerOnChange((function(){return L(e)})),e.valueAccessor.registerOnTouched((function(){return L(e)})),e._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),e._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),t&&t._clearChangeFns()}(e.control,e),n&&T(n,e),e.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var t=this;this.form._registerOnCollectionChange((function(){return t._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var t=J(this._validators);this.form.validator=x.compose([this.form.validator,t]);var e=K(this._asyncValidators);this.form.asyncValidator=x.composeAsync([this.form.asyncValidator,e])}},{key:"_checkFormPresent",value:function(){this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(g)).\u0275fac=function(t){return new(t||G)(a.Hb(k,10),a.Hb(C,10))},G.\u0275dir=a.Cb({type:G,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&a.Rb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a.wb([nt]),a.ub,a.vb]}),G),it=((X=function t(){_classCallCheck(this,t)}).\u0275mod=a.Fb({type:X}),X.\u0275inj=a.Eb({factory:function(t){return new(t||X)}}),X),at=((B=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"group",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(t),r=null,i=null,a=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,a=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Y(n,{asyncValidators:i,updateOn:a,validators:r})}},{key:"control",value:function(t,e,n){return new Z(t,e,n)}},{key:"array",value:function(t,e,n){var r=this,i=t.map((function(t){return r._createControl(t)}));return new Q(i,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach((function(r){n[r]=e._createControl(t[r])})),n}},{key:"_createControl",value:function(t){return t instanceof Z||t instanceof Y||t instanceof Q?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}()).\u0275fac=function(t){return new(t||B)},B.\u0275prov=a.Db({token:B,factory:B.\u0275fac}),B),ot=((H=function t(){_classCallCheck(this,t)}).\u0275mod=a.Fb({type:H}),H.\u0275inj=a.Eb({factory:function(t){return new(t||H)},providers:[I],imports:[it]}),H),st=((z=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:et,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}()).\u0275mod=a.Fb({type:z}),z.\u0275inj=a.Eb({factory:function(t){return new(t||z)},providers:[at,I],imports:[it]}),z),ct=n("wf0l"),lt=n("PCNd"),ut=n("vyH0"),dt=n("JBAE"),ht=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"clone",value:function(){return dt(this)}}]),t}(),ft=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"clone",value:function(){return dt(this)}}]),t}(),pt=n("Wgwc"),yt=n("fbMX"),gt=n("tk/3"),vt=((q=function(){function t(e,n){_classCallCheck(this,t),this.storageService=e,this.http=n,this.spotifyUrl="https://api.spotify.com/"}return _createClass(t,[{key:"fromPayload",value:function(t){return t.items.map((function(t){var e=new ht;return e.id=t.track.id,e.trackName=t.track.name,e.trackDuration=t.track.duration_ms,e.artists=t.track.artists.map((function(t){var e=new ft;return e.id=t.id,e.artistName=t.name,e.externalLink=t.external_urls.spotify,e})),e.played=pt(t.played_at),e.uri=t.track.uri,e}))}},{key:"getRecentlyPlayedSongs",value:function(){var t=this;return this.http.get(this.spotifyUrl+"v1/me/player/recently-played?type=track&limit=50",{headers:{Authorization:"Bearer "+this.storageService.getLocalStorageItem()}}).toPromise().then((function(e){return t.fromPayload(e)}))}}]),t}()).\u0275fac=function(t){return new(t||q)(a.Ob(yt.a),a.Ob(gt.a))},q.\u0275prov=a.Db({token:q,factory:q.\u0275fac,providedIn:"root"}),q),bt=(($=function(){function t(e){_classCallCheck(this,t),this.recentlyPlayedModel=e}return _createClass(t,[{key:"getRecentlyPlayedSong",value:function(){return this.recentlyPlayedModel.getRecentlyPlayedSongs()}}]),t}()).\u0275fac=function(t){return new(t||$)(a.Ob(vt))},$.\u0275prov=a.Db({token:$,factory:$.\u0275fac,providedIn:"root"}),$),_t=n("QOwt"),mt=n("9tZb");function kt(t,e){if(1&t&&(a.Kb(0,"div",3),a.hc(1),a.Jb()),2&t){var n=a.Tb();a.xb(1),a.ic(n.message)}}var Ct,wt,xt,St=function(t){return{"show-fullscreen":t}},At=((xt=function t(){_classCallCheck(this,t),this.fullscreen=!1}).\u0275fac=function(t){return new(t||xt)},xt.\u0275cmp=a.Bb({type:xt,selectors:[["app-loading-spinner"]],inputs:{message:"message",fullscreen:"fullscreen"},decls:3,vars:4,consts:[[1,"loading-spinner",3,"ngClass"],[1,"loading-spinner__loader"],["class","loading-spinner__message",4,"ngIf"],[1,"loading-spinner__message"]],template:function(t,e){1&t&&(a.Kb(0,"div",0),a.Ib(1,"div",1),a.gc(2,kt,2,1,"div",2),a.Jb()),2&t&&(a.Xb("ngClass",a.Yb(2,St,e.fullscreen)),a.xb(2),a.Xb("ngIf",e.message))},directives:[r.h,r.j],styles:['@-webkit-keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.loading-spinner[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1000;display:flex;align-items:center;justify-content:center}.loading-spinner.show-fullscreen[_ngcontent-%COMP%]{width:100vw;height:100vh}.loading-spinner[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;z-index:1000;background-color:#000;opacity:.7}.loading-spinner__loader[_ngcontent-%COMP%]{border-radius:50%;border:16px solid #f3f3f3;border-top-color:#1db954;width:7em;height:7em;z-index:inherit;-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite}']}),xt),Ot=((wt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){return t?t.map((function(t){return t.artistName})).join(", "):""}}]),t}()).\u0275fac=function(t){return new(t||wt)},wt.\u0275pipe=a.Gb({name:"joinArray",type:wt,pure:!0}),wt),Vt=((Ct=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t,e){return pt(t).format(e)}}]),t}()).\u0275fac=function(t){return new(t||Ct)},Ct.\u0275pipe=a.Gb({name:"localeDate",type:Ct,pure:!0}),Ct);function Et(t,e){if(1&t){var n=a.Lb();a.Kb(0,"tr",5),a.Rb("click",(function(){a.cc(n);var t=e.$implicit;return a.Tb().onClick(t.uri)})),a.Kb(1,"td"),a.hc(2),a.Jb(),a.Kb(3,"td"),a.hc(4),a.Ub(5,"joinArray"),a.Jb(),a.Kb(6,"td"),a.hc(7),a.Ub(8,"localeDate"),a.Jb(),a.Jb()}if(2&t){var r=e.$implicit;a.xb(2),a.ic(r.trackName),a.xb(2),a.ic(a.Vb(5,3,r.artists)),a.xb(3),a.ic(a.Wb(8,5,r.played,"DD/MM/YYYY, hh:mm A"))}}function Pt(t,e){1&t&&a.Ib(0,"app-loading-spinner",6)}var It,Tt,jt,Dt=((jt=function(){function t(e,n,r){_classCallCheck(this,t),this.recentlyPlayedService=e,this.errorService=n,this.attributeService=r,this.loading=!1}return _createClass(t,[{key:"onClick",value:function(t){window.open(t,"_blank")}},{key:"ngOnInit",value:function(){var t=this;return this.attributeService.updatePageState("recently-played"),this.loading=!0,this.recentlyPlayedService.getRecentlyPlayedSong().then((function(e){t.tracks=e,t.loading=!1})).catch((function(){var e=new ut.a("Access Token Error","Access token expired, new token is needed.");t.errorService.callError("",e)}))}}]),t}()).\u0275fac=function(t){return new(t||jt)(a.Hb(bt),a.Hb(_t.a),a.Hb(mt.a))},jt.\u0275cmp=a.Bb({type:jt,selectors:[["app-recently-played"]],decls:11,vars:2,consts:[[1,"recently-played"],[1,"recently-played__table"],[1,"recently-played__table-header"],["class","recently-played__table-row",3,"click",4,"ngFor","ngForOf"],["fullscreen","true",4,"ngIf"],[1,"recently-played__table-row",3,"click"],["fullscreen","true"]],template:function(t,e){1&t&&(a.Kb(0,"div",0),a.Kb(1,"table",1),a.Kb(2,"tr",2),a.Kb(3,"th"),a.hc(4,"Track"),a.Jb(),a.Kb(5,"th"),a.hc(6,"Artist(s)"),a.Jb(),a.Kb(7,"th"),a.hc(8,"Played At"),a.Jb(),a.Jb(),a.gc(9,Et,9,8,"tr",3),a.Jb(),a.Jb(),a.gc(10,Pt,1,0,"app-loading-spinner",4)),2&t&&(a.xb(9),a.Xb("ngForOf",e.tracks),a.xb(1),a.Xb("ngIf",e.loading))},directives:[r.i,r.j,At],pipes:[Ot,Vt],styles:[".recently-played{display:flex;justify-content:center;min-height:88vh;max-width:1040px;margin:66px auto 24px}@media (max-width:766px){.recently-played{margin:66px 12px 24px}}.recently-played__table{margin:0 24px;border-spacing:0;line-height:1.35;width:100%}.recently-played__table-header{font-size:18px}.recently-played__table-row{font-size:16px;color:#b4b4b4;cursor:pointer;border-spacing:0}.recently-played__table-row:hover{background:#636363;color:#fff}"],encapsulation:2}),jt),Lt=((Tt=function(){function t(e,n){_classCallCheck(this,t),this.storageService=e,this.http=n,this.spotifyUrl="https://api.spotify.com/v1/me/top/"}return _createClass(t,[{key:"fromPayload",value:function(t,e){return t.items.map((function(t,n){if(e){var r=new ht;return r.id=t.id,r.trackName=t.name,r.trackImage=t.album.images[0].url,r.artists=t.artists.map((function(t){var e=new ft;return e.id=t.id,e.artistName=t.name,e.externalLink=t.external_urls.spotify,e})),r.uri=t.uri,r}var i=new ft;return i.id=t.id,i.artistName=t.name,i.artistImage=t.images[0].url,i.externalLink=t.uri,i.order=n+1,i}))}},{key:"getLists",value:function(t,e){var n=this;return this.http.get("".concat(this.spotifyUrl).concat(t,"?time_range=").concat(e,"&limit=50"),{headers:{Authorization:"Bearer "+this.storageService.getLocalStorageItem()}}).toPromise().then((function(e){return n.fromPayload(e,"tracks"===t)}))}}]),t}()).\u0275fac=function(t){return new(t||Tt)(a.Ob(yt.a),a.Ob(gt.a))},Tt.\u0275prov=a.Db({token:Tt,factory:Tt.\u0275fac,providedIn:"root"}),Tt),Mt=((It=function(){function t(e){_classCallCheck(this,t),this.topListsModelService=e}return _createClass(t,[{key:"topLists",value:function(t,e){return this.topListsModelService.getLists(t,e)}}]),t}()).\u0275fac=function(t){return new(t||It)(a.Ob(Lt))},It.\u0275prov=a.Db({token:It,factory:It.\u0275fac,providedIn:"root"}),It);function Jt(t,e){if(1&t){var n=a.Lb();a.Kb(0,"tr",8),a.Rb("click",(function(){a.cc(n);var t=e.$implicit;return a.Tb().onTrackClick(t.uri)})),a.Kb(1,"td"),a.hc(2),a.Jb(),a.Kb(3,"td"),a.Ib(4,"img",9),a.Jb(),a.Kb(5,"td"),a.hc(6),a.Jb(),a.Kb(7,"td"),a.hc(8),a.Ub(9,"joinArray"),a.Jb(),a.Jb()}if(2&t){var r=e.$implicit,i=e.index;a.xb(2),a.ic(i+1),a.xb(2),a.Xb("lazyLoad",r.trackImage)("alt",r.trackName),a.xb(2),a.ic(r.trackName),a.xb(2),a.ic(a.Vb(9,5,r.artists))}}function Kt(t,e){1&t&&a.Ib(0,"app-loading-spinner",10)}var Ft,Nt=((Ft=function(){function t(e,n,r){_classCallCheck(this,t),this.topListsService=e,this.errorService=n,this.attributeService=r,this.tracks=[],this.loading=!1}return _createClass(t,[{key:"onClick",value:function(t,e){var n=this;document.querySelector(".top-tracks__tab-item--active").classList.remove("top-tracks__tab-item--active");var r=document.querySelector("#"+e);return r.classList.add("top-tracks__tab-item--active"),this.tabSelected=r.innerHTML,this.loading=!0,this.topListsService.topLists("tracks",t).then((function(t){n.tracks=t,n.loading=!1})).catch((function(){var t=new ut.a("Access Token Error","Access token expired, new token is needed.");n.errorService.callError("",t)}))}},{key:"onTrackClick",value:function(t){window.open(t,"_blank")}},{key:"ngOnInit",value:function(){var t=this;return this.attributeService.updatePageState("top-tracks"),this.tabSelected="Last 4 Weeks",this.loading=!0,this.topListsService.topLists("tracks","short_term").then((function(e){t.tracks=e,t.loading=!1})).catch((function(){var e=new ut.a("Access Token Error","Access token expired, new token is needed.");t.errorService.callError("",e)}))}}]),t}()).\u0275fac=function(t){return new(t||Ft)(a.Hb(Mt),a.Hb(_t.a),a.Hb(mt.a))},Ft.\u0275cmp=a.Bb({type:Ft,selectors:[["app-top-tracks"]],decls:13,vars:3,consts:[[1,"top-tracks"],[1,"top-tracks__tabs"],["id","top-tracks-short",1,"top-tracks__tab-item","top-tracks__tab-item--active",3,"click"],["id","top-tracks-mid",1,"top-tracks__tab-item",3,"click"],["id","top-tracks-long",1,"top-tracks__tab-item",3,"click"],[1,"top-tracks__leaderboard"],["class","top-tracks__leaderboard-row",3,"click",4,"ngFor","ngForOf"],["fullscreen","true",4,"ngIf"],[1,"top-tracks__leaderboard-row",3,"click"],[3,"lazyLoad","alt"],["fullscreen","true"]],template:function(t,e){1&t&&(a.Kb(0,"div",0),a.Kb(1,"h1"),a.hc(2),a.Jb(),a.Kb(3,"div",1),a.Kb(4,"button",2),a.Rb("click",(function(){return e.onClick("short_term","top-tracks-short")})),a.hc(5,"Last 4 Weeks"),a.Jb(),a.Kb(6,"button",3),a.Rb("click",(function(){return e.onClick("medium_term","top-tracks-mid")})),a.hc(7,"Last 6 Months"),a.Jb(),a.Kb(8,"button",4),a.Rb("click",(function(){return e.onClick("long_term","top-tracks-long")})),a.hc(9,"All Time"),a.Jb(),a.Jb(),a.Kb(10,"table",5),a.gc(11,Jt,10,7,"tr",6),a.Jb(),a.Jb(),a.gc(12,Kt,1,0,"app-loading-spinner",7)),2&t&&(a.xb(2),a.jc("Top Tracks (",e.tabSelected,")"),a.xb(9),a.Xb("ngForOf",e.tracks),a.xb(1),a.Xb("ngIf",e.loading))},directives:[r.i,r.j,ct.c,At],pipes:[Ot],styles:[".top-tracks{min-height:86vh;max-width:1140px;margin:80px auto 24px;text-align:center}@media (max-width:992px){.top-tracks{max-width:800px}}.top-tracks__tabs{display:flex;justify-content:space-around;overflow:hidden}.top-tracks__tab-item{background:transparent;width:100%;padding:12px 0;font-size:18px;color:#b4b4b4;border:none;border-bottom:1px solid #b4b4b4;cursor:pointer}.top-tracks__tab-item:focus{outline:none}.top-tracks__tab-item--active,.top-tracks__tab-item:hover{color:#fff;border:1px solid #b4b4b4;border-bottom:none}.top-tracks__leaderboard{width:100%;border-spacing:0}.top-tracks__leaderboard-row{border-spacing:0;cursor:pointer}.top-tracks__leaderboard-row:hover{background:#636363}.top-tracks__leaderboard-row>td{text-align:left;padding-left:8px}.top-tracks__leaderboard-row>td:last-of-type{color:#b4b4b4}.top-tracks__leaderboard-row>td>img{height:50px;width:50px}"],encapsulation:2}),Ft);function Rt(t,e){if(1&t){var n=a.Lb();a.Kb(0,"a",8),a.Rb("click",(function(){a.cc(n);var t=e.$implicit;return a.Tb().onArtistClick(t.externalLink)})),a.Ib(1,"img",9),a.Kb(2,"p"),a.hc(3),a.Jb(),a.Jb()}if(2&t){var r=e.$implicit;a.xb(1),a.Xb("lazyLoad",r.artistImage)("alt",r.artistName),a.xb(2),a.kc("",r.order,".",r.artistName,"")}}function Ut(t,e){1&t&&a.Ib(0,"app-loading-spinner",10)}var zt,Ht,Bt,Xt,Gt,$t,qt,Wt,Zt,Yt=((zt=function(){function t(e,n,r){_classCallCheck(this,t),this.topListsService=e,this.errorService=n,this.attributeService=r,this.artists=[],this.loading=!1}return _createClass(t,[{key:"onClick",value:function(t,e){var n=this;document.querySelector(".top-artists__tab-item--active").classList.remove("top-artists__tab-item--active");var r=document.querySelector("#"+e);return r.classList.add("top-artists__tab-item--active"),this.tabSelected=r.innerHTML,this.loading=!0,this.topListsService.topLists("artists",t).then((function(t){n.artists=t,n.loading=!1})).catch((function(){var t=new ut.a("Access Token Error","Access token expired, new token is needed.");n.errorService.callError("",t)}))}},{key:"onArtistClick",value:function(t){window.open(t,"_blank")}},{key:"ngOnInit",value:function(){var t=this;return this.attributeService.updatePageState("top-artists"),this.tabSelected="Last 4 Weeks",this.loading=!0,this.topListsService.topLists("artists","short_term").then((function(e){t.artists=e,t.loading=!1})).catch((function(){var e=new ut.a("Access Token Error","Access token expired, new token is needed.");t.errorService.callError("",e)}))}}]),t}()).\u0275fac=function(t){return new(t||zt)(a.Hb(Mt),a.Hb(_t.a),a.Hb(mt.a))},zt.\u0275cmp=a.Bb({type:zt,selectors:[["app-top-artists"]],decls:13,vars:3,consts:[[1,"top-artists"],[1,"top-artists__tabs"],["id","top-artists-short",1,"top-artists__tab-item","top-artists__tab-item--active",3,"click"],["id","top-artists-mid",1,"top-artists__tab-item",3,"click"],["id","top-artists-long",1,"top-artists__tab-item",3,"click"],[1,"top-artists__leaderboard"],["class","top-artists__leaderboard-item",3,"click",4,"ngFor","ngForOf"],["fullscreen","true",4,"ngIf"],[1,"top-artists__leaderboard-item",3,"click"],[3,"lazyLoad","alt"],["fullscreen","true"]],template:function(t,e){1&t&&(a.Kb(0,"div",0),a.Kb(1,"h1"),a.hc(2),a.Jb(),a.Kb(3,"div",1),a.Kb(4,"button",2),a.Rb("click",(function(){return e.onClick("short_term","top-artists-short")})),a.hc(5,"Last 4 Weeks"),a.Jb(),a.Kb(6,"button",3),a.Rb("click",(function(){return e.onClick("medium_term","top-artists-mid")})),a.hc(7,"Last 6 Months"),a.Jb(),a.Kb(8,"button",4),a.Rb("click",(function(){return e.onClick("long_term","top-artists-long")})),a.hc(9,"All Time"),a.Jb(),a.Jb(),a.Kb(10,"div",5),a.gc(11,Rt,4,4,"a",6),a.Jb(),a.Jb(),a.gc(12,Ut,1,0,"app-loading-spinner",7)),2&t&&(a.xb(2),a.jc("Top Artists (",e.tabSelected,")"),a.xb(9),a.Xb("ngForOf",e.artists),a.xb(1),a.Xb("ngIf",e.loading))},directives:[r.i,r.j,ct.c,At],styles:[".top-artists{min-height:86vh;max-width:1140px;margin:80px auto 24px;text-align:center}@media (max-width:992px){.top-artists{max-width:800px}}.top-artists__tabs{display:flex;justify-content:space-around;overflow:hidden}.top-artists__tab-item{background:transparent;width:100%;padding:12px 0;font-size:18px;color:#b4b4b4;border:none;border-bottom:1px solid #b4b4b4;cursor:pointer}.top-artists__tab-item:focus{outline:none}.top-artists__tab-item--active,.top-artists__tab-item:hover{color:#fff;border:1px solid #b4b4b4;border-bottom:none}.top-artists__leaderboard{display:grid;grid-template-columns:1fr 1fr 1fr;grid-gap:12px;margin-top:24px;width:100%}@media (max-width:766px){.top-artists__leaderboard{grid-template-columns:1fr 1fr}}.top-artists__leaderboard-item{display:flex;flex-direction:column;justify-content:flex-end;width:100%;min-height:250px;background-color:#1b1b1b;cursor:pointer}.top-artists__leaderboard-item:hover{background:#636363}.top-artists__leaderboard-item>img{width:100%}"],encapsulation:2}),zt),Qt=function t(){_classCallCheck(this,t)},te=function t(){_classCallCheck(this,t)},ee=((Ht=function(){function t(e,n){_classCallCheck(this,t),this.storageService=e,this.http=n,this.spotifyUrl="https://api.spotify.com/v1/me/playlists"}return _createClass(t,[{key:"fromPayload",value:function(t){return t.items.map((function(t){var e=new Qt;return e.id=t.id,e.name=t.name,e.description=t.description,e.owner=new te,e.owner.id=t.owner.id,e.owner.name=t.owner.display_name,e.owner.uri=t.owner.uri,e.collaborative=t.collaborative,e.uri=t.uri,e}))}},{key:"getUserPlaylist",value:function(){var t=this;return this.http.get(this.spotifyUrl+"?limit=50&offset=0",{headers:{Authorization:"Bearer "+this.storageService.getLocalStorageItem()}}).toPromise().then((function(e){return t.fromPayload(e)}))}}]),t}()).\u0275fac=function(t){return new(t||Ht)(a.Ob(yt.a),a.Ob(gt.a))},Ht.\u0275prov=a.Db({token:Ht,factory:Ht.\u0275fac,providedIn:"root"}),Ht),ne=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"clone",value:function(){return dt(this)}}]),t}(),re=((Gt=function(){function t(e,n){_classCallCheck(this,t),this.storageService=e,this.http=n,this.spotifyUrl="https://api.spotify.com/v1/playlists/"}return _createClass(t,[{key:"fromPayload",value:function(t){return t.items.map((function(t){var e=new ne;return e.addedAt=t.added_at,e.addedBy=new te,e.addedBy.id=t.added_by.id,e.addedBy.uri=t.added_by.uri,e.track=new ht,e.track.id=t.track.id,e.track.trackName=t.track.name,e.track.artists=t.track.artists.map((function(t){var e=new ft;return e.id=t.id,e.artistName=t.name,e.externalLink=t.external_urls.spotify,e})),e.track.uri=t.track.uri,e}))}},{key:"getPlaylistTracks",value:function(t){var e=this;return this.http.get("".concat(this.spotifyUrl).concat(t,"/tracks"),{headers:{Authorization:"Bearer "+this.storageService.getLocalStorageItem()}}).toPromise().then((function(t){return e.fromPayload(t)}))}},{key:"params",value:function(t,e){return[{uri:t.track.id,positions:[e]}]}},{key:"deletePlaylistTrack",value:function(t,e,n){return this.http.delete("".concat(this.spotifyUrl).concat(t,"/tracks"),{headers:{Authorization:"Bearer "+this.storageService.getLocalStorageItem(),Accept:"application/json",ContentTypes:"application/json"},params:{tracks:JSON.stringify(this.params(e,n))}}).toPromise()}}]),t}()).\u0275fac=function(t){return new(t||Gt)(a.Ob(yt.a),a.Ob(gt.a))},Gt.\u0275prov=a.Db({token:Gt,factory:Gt.\u0275fac,providedIn:"root"}),Gt),ie=((Xt=function(){function t(e,n){_classCallCheck(this,t),this.playlistModelService=e,this.playlistTracksModel=n}return _createClass(t,[{key:"getUserPlaylist",value:function(){return this.playlistModelService.getUserPlaylist()}},{key:"getPlaylistTracks",value:function(t){return this.playlistTracksModel.getPlaylistTracks(t)}},{key:"deleteTrackFromPlaylist",value:function(t,e,n){return this.playlistTracksModel.deletePlaylistTrack(t,e,n)}},{key:"removeIdenticalTracks",value:function(t,e){var n=this,r=e.map((function(t){return t.track.id})),i=(r=Array.from(new Set(r))).map((function(t){return e.slice().filter((function(e){return t===e.track.id}))}));return(i=i.filter((function(t){return 1!==t.length}))).forEach((function(e){var r=e.slice();e.forEach((function(e,i){if(r.length>1)return r.splice(i,1),n.deleteTrackFromPlaylist(t,e,i).then(console.log)}))})),null}}]),t}()).\u0275fac=function(t){return new(t||Xt)(a.Ob(ee),a.Ob(re))},Xt.\u0275prov=a.Db({token:Xt,factory:Xt.\u0275fac,providedIn:"root"}),Xt),ae=((Bt=function(){function t(e,n){_classCallCheck(this,t),this.playlistService=e,this.attributeService=n,this.playlists=[],this.playlistTracks=[],this.form=new Y({playlist:new Z("",{validators:[x.required]})})}return _createClass(t,[{key:"onPlaylistSelected",value:function(){var t=this,e=this.playlists.find((function(t){return"test"===t.name}));return this.playlistService.getPlaylistTracks(e.id).then((function(n){return t.playlistTracks=n,t.playlistService.removeIdenticalTracks(e.id,t.playlistTracks)})).then((function(t){return console.log(t)}))}},{key:"ngOnInit",value:function(){var t=this;return this.attributeService.updatePageState("remove-duplicates"),this.playlistService.getUserPlaylist().then((function(e){return t.playlists=e}))}}]),t}()).\u0275fac=function(t){return new(t||Bt)(a.Hb(ie),a.Hb(mt.a))},Bt.\u0275cmp=a.Bb({type:Bt,selectors:[["app-remove-duplicates"]],decls:4,vars:1,consts:[[1,"remove-duplicates"],["name","form",1,"remove-duplicates__form",3,"formGroup"],[3,"click"]],template:function(t,e){1&t&&(a.Kb(0,"div",0),a.Kb(1,"form",1),a.Kb(2,"button",2),a.Rb("click",(function(){return e.onPlaylistSelected()})),a.hc(3,"TEST"),a.Jb(),a.Jb(),a.Jb()),2&t&&(a.xb(1),a.Xb("formGroup",e.form))},directives:[tt,b,rt],styles:[".remove-duplicates{min-height:88vh;max-width:1140px;margin:66px auto 24px}"],encapsulation:2}),Bt),oe=n("AytR"),se=n("BR5C"),ce=function(){function t(e){_classCallCheck(this,t),this.code=e}return _createClass(t,[{key:"clone",value:function(){return dt(this)}}]),t}(),le=((Zt=function(){function t(e){_classCallCheck(this,t),this.http=e}return _createClass(t,[{key:"fromPayload",value:function(t){var e=new ce;return e.name=t.name,e.nativeName=t.nativeName,e.code=t.alpha2Code,e}},{key:"convertCountryInitials",value:function(t){var e=this;return this.http.get("https://restcountries.eu/rest/v2/alpha?codes="+t).toPromise().then((function(t){return e.fromPayload(t[0])}))}}]),t}()).\u0275fac=function(t){return new(t||Zt)(a.Ob(gt.a))},Zt.\u0275prov=a.Db({token:Zt,factory:Zt.\u0275fac,providedIn:"root"}),Zt),ue=((Wt=function(){function t(e){_classCallCheck(this,t),this.countryModelService=e}return _createClass(t,[{key:"convertCountryInitials",value:function(t){return this.countryModelService.convertCountryInitials(t).then((function(t){return t}))}}]),t}()).\u0275fac=function(t){return new(t||Wt)(a.Ob(le))},Wt.\u0275prov=a.Db({token:Wt,factory:Wt.\u0275fac,providedIn:"root"}),Wt),de=((qt=function(){function t(e,n,r){_classCallCheck(this,t),this.storageService=e,this.http=n,this.countryService=r,this.spotifyUrl="https://api.spotify.com/v1/me"}return _createClass(t,[{key:"fromPayload",value:function(t){var e=new te;return e.id=t.id,e.name=t.display_name,e.email=t.email,e.image=t.images[0].url,e.country=new ce,this.countryService.convertCountryInitials(t.country).then((function(n){e.country=n&&n.name?n:t.country})),e.followers=t.followers.total,e.uri=t.uri,e}},{key:"getUser",value:function(){var t=this;return this.http.get(""+this.spotifyUrl,{headers:{Authorization:"Bearer "+this.storageService.getLocalStorageItem()}}).toPromise().then((function(e){return t.fromPayload(e)}))}}]),t}()).\u0275fac=function(t){return new(t||qt)(a.Ob(yt.a),a.Ob(gt.a),a.Ob(ue))},qt.\u0275prov=a.Db({token:qt,factory:qt.\u0275fac,providedIn:"root"}),qt),he=(($t=function(){function t(e){_classCallCheck(this,t),this.userModel=e}return _createClass(t,[{key:"getUser",value:function(){return this.userModel.getUser()}}]),t}()).\u0275fac=function(t){return new(t||$t)(a.Ob(de))},$t.\u0275prov=a.Db({token:$t,factory:$t.\u0275fac,providedIn:"root"}),$t);function fe(t,e){if(1&t&&(a.Kb(0,"div",4),a.Kb(1,"span"),a.hc(2),a.Jb(),a.hc(3),a.Jb()),2&t){var n=e.$implicit,r=a.Tb(2);a.xb(2),a.jc("",n.toUpperCase(),":"),a.xb(1),a.jc(" ",r.user[n].nativeName||r.user[n]," ")}}function pe(t,e){if(1&t){var n=a.Lb();a.Kb(0,"a",1),a.Rb("click",(function(){a.cc(n);var t=a.Tb();return t.onClick(t.userUri)})),a.Ib(1,"img",2),a.gc(2,fe,4,2,"div",3),a.Jb()}if(2&t){var r=a.Tb();a.xb(1),a.Xb("lazyLoad",r.userImage)("alt",r.user.name),a.xb(1),a.Xb("ngForOf",r.objectKeys(r.user))}}var ye,ge,ve,be,_e=((ye=function(){function t(){_classCallCheck(this,t),this.objectKeys=Object.keys}return _createClass(t,[{key:"onClick",value:function(t){window.open(t,"_blank")}},{key:"ngOnChanges",value:function(t){this.user&&(this.userUri=this.user.uri,this.userImage=this.user.image,delete this.user.id,delete this.user.image,delete this.user.uri)}}]),t}()).\u0275fac=function(t){return new(t||ye)},ye.\u0275cmp=a.Bb({type:ye,selectors:[["app-profile"]],inputs:{user:"user"},features:[a.vb],decls:1,vars:1,consts:[["class","profile",3,"click",4,"ngIf"],[1,"profile",3,"click"],[1,"profile__image",3,"lazyLoad","alt"],["class","profile__table",4,"ngFor","ngForOf"],[1,"profile__table"]],template:function(t,e){1&t&&a.gc(0,pe,3,3,"a",0),2&t&&a.Xb("ngIf",null==e.user?null:e.user.name)},directives:[r.j,ct.c,r.i],styles:[".profile__table[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif}.profile[_ngcontent-%COMP%]{display:block;background:#1b1b1b;margin-bottom:12px;padding-bottom:24px;border:1px solid #fff;cursor:pointer}.profile[_ngcontent-%COMP%]:hover{background:#333}.profile__image[_ngcontent-%COMP%]{display:block;margin:0 auto 24px;padding-top:16px;border-radius:140px}.profile__table[_ngcontent-%COMP%]{margin:4px auto;width:305px}.profile__table[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;text-align:right;font-weight:700;width:108px;margin-right:12px}"]}),ye),me=n("QgiU"),ke=((ge=function(){function t(e){_classCallCheck(this,t),this.recentlyPlayedService=e,pt.extend(me)}return _createClass(t,[{key:"getRandomFact",value:function(){var t=this;return this.recentlyPlayedService.getRecentlyPlayedSong().then((function(e){return 1===Math.floor(2*Math.random())+1?t.getRandomTimeBasedFact(e):t.getRandomArtistFact(e)}))}},{key:"getRandomArtistFact",value:function(t){var e=[],n=0,r={},i=[];return t.forEach((function(t){t.artists.forEach((function(t){e.push(t.artistName)}))})),e.forEach((function(t){r[t]?r[t]++:r[t]=1,r[t]>n?(n=r[t],i=[t]):r[t]===n&&i.push(t)})),"Your most popular recent artist is <br><span>".concat(i,"</span> with <span>").concat(n,"</span> times.")}},{key:"getRandomTimeBasedFact",value:function(t){var e=t[0].clone(),n=e.played.add(e.trackDuration,"ms");return pt().isAfter(n)?"Last used spotify <br><span>".concat(pt().from(n,!0),"</span> ago."):this.getRandomArtistFact(t)}}]),t}()).\u0275fac=function(t){return new(t||ge)(a.Ob(bt))},ge.\u0275prov=a.Db({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge),Ce=n("jhN1"),we=((ve=function(){function t(e){_classCallCheck(this,t),this.domSanitizer=e}return _createClass(t,[{key:"transform",value:function(t){return this.domSanitizer.bypassSecurityTrustHtml(t)}}]),t}()).\u0275fac=function(t){return new(t||ve)(a.Hb(Ce.b))},ve.\u0275pipe=a.Gb({name:"noSansitize",type:ve,pure:!0}),ve),xe=function(t,e){return{active:t,unactive:e}},Se=((be=function(){function t(e){_classCallCheck(this,t),this.statFactService=e,this.factShow=!1}return _createClass(t,[{key:"onClick",value:function(){this.factShow=!this.factShow}},{key:"ngOnInit",value:function(){var t=this;return this.statFactService.getRandomFact().then((function(e){t.statFact=e}))}}]),t}()).\u0275fac=function(t){return new(t||be)(a.Hb(ke))},be.\u0275cmp=a.Bb({type:be,selectors:[["app-stat-fact"]],decls:8,vars:11,consts:[[1,"stat-fact","no-selectable",3,"click"],[1,"stat-fact__top-card",3,"ngClass"],[1,"stat-fact__back-card",3,"ngClass","innerHTML"]],template:function(t,e){1&t&&(a.Kb(0,"div",0),a.Rb("click",(function(){return e.onClick()})),a.Kb(1,"div",1),a.hc(2," Click for "),a.Ib(3,"br"),a.Kb(4,"span"),a.hc(5,"Random Stat Fact"),a.Jb(),a.Jb(),a.Ib(6,"div",2),a.Ub(7,"noSansitize"),a.Jb()),2&t&&(a.xb(1),a.Xb("ngClass",a.Zb(5,xe,e.factShow,!e.factShow)),a.xb(5),a.Xb("ngClass",a.Zb(8,xe,e.factShow,!e.factShow))("innerHTML",a.Vb(7,3,e.statFact),a.dc))},directives:[r.h],pipes:[we],styles:[".stat-fact__back-card,.stat-fact__top-card{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}.highlight{font-size:42px;color:#c9ed5f}.stat-fact{position:relative;display:flex;justify-content:center;align-items:center;height:32%;width:100%;background-image:linear-gradient(#e45ba6,#000);border:1px solid #fff;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width:766px){.stat-fact{height:200px}}.stat-fact>.active.stat-fact__top-card,.stat-fact>.unactive.stat-fact__top-card{transform:rotateX(-180deg)}.stat-fact>.active.stat-fact__back-card,.stat-fact>.unactive.stat-fact__back-card,.stat-fact>.unactive.stat-fact__top-card{transform:rotateX(0deg)}.stat-fact>.unactive.stat-fact__back-card{transform:rotateX(-180deg)}.stat-fact__back-card,.stat-fact__top-card{position:absolute;left:0;right:0;font-weight:700;font-size:32px;line-height:1.12;-webkit-backface-visibility:hidden;backface-visibility:hidden;transform:rotateX(0deg);transition:.5s}@media (max-width:766px){.stat-fact__back-card,.stat-fact__top-card{font-size:28px}}.stat-fact__back-card .highlight,.stat-fact__back-card>span,.stat-fact__top-card .highlight,.stat-fact__top-card>span{font-size:42px;color:#c9ed5f}.stat-fact__top-card{margin:0 48px;transform:rotateX(0deg)}.stat-fact__back-card{margin:0 56px;transform:rotateX(180deg);color:#fff;text-align:center}.stat-fact__back-card>span{font-size:42px;color:#c9ed5f!important}"],encapsulation:2}),be);function Ae(t,e){if(1&t){var n=a.Lb();a.Kb(0,"div",4),a.Kb(1,"div",5),a.Kb(2,"div",6),a.Ib(3,"img",7),a.Kb(4,"p"),a.hc(5,"Log in with your Spotify account to gain access to many useful tools for your music needs."),a.Jb(),a.Kb(6,"a",8),a.Rb("click",(function(){return a.cc(n),a.Tb().onClick()})),a.hc(7,"Login"),a.Jb(),a.Jb(),a.Kb(8,"div",9),a.Kb(9,"p"),a.hc(10,"You may need to clear cache on your browser to successful login into tool. You can open an Incognito window."),a.Jb(),a.Jb(),a.Jb(),a.Jb()}if(2&t){var r=a.Tb();a.xb(3),a.Xb("lazyLoad",r.logo)}}function Oe(t,e){if(1&t&&(a.Kb(0,"div",10),a.Kb(1,"div",11),a.Kb(2,"h1"),a.hc(3),a.Jb(),a.Kb(4,"div",12),a.Kb(5,"div",13),a.Ib(6,"app-profile",14),a.Ib(7,"app-stat-fact"),a.Jb(),a.Kb(8,"div",15),a.Kb(9,"a",16),a.Kb(10,"div",17),a.hc(11,"Top Tracks"),a.Jb(),a.Kb(12,"div",18),a.hc(13," View your most listened tracks and switch between 3 different time periods. Your data is updated approximately everyday. "),a.Jb(),a.Jb(),a.Kb(14,"a",19),a.Kb(15,"div",17),a.hc(16,"Top Artists"),a.Jb(),a.Kb(17,"div",18),a.hc(18," View your most listened Artists and switch between 3 different time periods. Your data is updated approximately everyday. "),a.Jb(),a.Jb(),a.Kb(19,"a",20),a.Kb(20,"div",17),a.hc(21,"Recently Played"),a.Jb(),a.Kb(22,"div",18),a.hc(23," Check out your recently played tracks with timestamps. "),a.Jb(),a.Jb(),a.Jb(),a.Jb(),a.Jb(),a.Jb()),2&t){var n=a.Tb();a.xb(3),a.jc("Welcome, ",null==n.user?null:n.user.name,""),a.xb(3),a.Xb("user",n.user)}}function Ve(t,e){1&t&&a.Ib(0,"app-loading-spinner",21)}var Ee,Pe,Ie=((Ee=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.auth=e,this.storageService=n,this.userService=r,this.errorService=i,this.attributeService=o,this.login=!1,this.loading=!1,this.logo=oe.a.route+"assets/img/spotifytool.png",this.stateChanged=new a.n}return _createClass(t,[{key:"onClick",value:function(){this.loading=!0,window.location.href=this.auth.logIn()}},{key:"getAccessTokenFromUrl",value:function(t){return t.split("").slice(14).slice(0,-34).join("")}},{key:"ngOnInit",value:function(){var t=this;this.attributeService.updatePageState("login"),this.login=!1,"reload"===performance.getEntriesByType("navigation")[0].type&&(document.location.href=oe.a.route);var e=this.storageService.getSessionStorageItem("is-active");if(!e)return this.storageService.setSessionStorageItem("is-active","true");var n=this.storageService.getLocalStorageItem();if(null==n?void 0:n.length)return this.loading=!0,this.login=!0,this.userService.getUser().then((function(e){t.user=e,t.loading=!1,t.attributeService.updatePageState("dashboard")})).catch((function(){t.storageService.removeLocalStorageItem(),setTimeout((function(){if(t.loading=!1,t.login=!1,e){var n=new ut.a("Access Token Error","Access token expired, new token is needed.");t.errorService.callError("",n)}}),100)}));if(document.location.href.indexOf("#")>-1){var r=this.getAccessTokenFromUrl(location.hash);this.storageService.setLocalStorageItem("access-token",r),this.storageService.setLocalStorageItem("access-token-date",pt().format()),document.location.href=oe.a.route}}}]),t}()).\u0275fac=function(t){return new(t||Ee)(a.Hb(se.a),a.Hb(yt.a),a.Hb(he),a.Hb(_t.a),a.Hb(mt.a))},Ee.\u0275cmp=a.Bb({type:Ee,selectors:[["app-dashboard"]],outputs:{stateChanged:"stateChanged"},decls:4,vars:3,consts:[[1,"dashboard"],["class","dashboard__login",4,"ngIf"],["class","dashboard__menu",4,"ngIf"],["fullscreen","true",4,"ngIf"],[1,"dashboard__login"],[1,"dashboard__login-group"],[1,"dashboard__login-container"],["alt","ccdesign logo",1,"dashboard__login-logo",3,"lazyLoad"],[1,"dashboard__login-cta",3,"click"],[1,"dashboard__login-tooltip"],[1,"dashboard__menu"],[1,"dashboard__menu-content-box"],[1,"dashboard__container"],[1,"dashboard__profile"],[3,"user"],[1,"dashboard__menu-grid"],["routerLink","/top-tracks",1,"dashboard__menu-grid-item"],[1,"dashboard__menu-grid-item-header"],[1,"dashboard__menu-grid-item-description"],["routerLink","/top-artists",1,"dashboard__menu-grid-item"],["routerLink","/recently-played",1,"dashboard__menu-grid-item"],["fullscreen","true"]],template:function(t,e){1&t&&(a.Kb(0,"div",0),a.gc(1,Ae,11,1,"div",1),a.gc(2,Oe,24,2,"div",2),a.Jb(),a.gc(3,Ve,1,0,"app-loading-spinner",3)),2&t&&(a.xb(1),a.Xb("ngIf",!e.login),a.xb(1),a.Xb("ngIf",e.login),a.xb(1),a.Xb("ngIf",e.loading))},directives:[r.j,ct.c,_e,Se,i.c,At],styles:[".dashboard__menu-grid-item>.dashboard__menu-grid-item-description{font-family:Arial,Helvetica,sans-serif}.dashboard__menu-grid-item>.dashboard__menu-grid-item-header{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}body[ui-state=login] .dashboard__login{height:90vh}.dashboard__login{background-color:#000;width:100vw;height:97vh}.dashboard__login-group{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);max-width:500px}.dashboard__login-container{padding:24px;border:2px solid #fff;color:#fff;text-align:center}.dashboard__login-logo{max-width:200px;max-height:200px;padding:12px}.dashboard__login-cta{display:inline-block;border-radius:999rem;padding:12px 30px;background-color:#1db954;border:none;color:#fff;font-size:14px;outline:none;margin:12px;text-decoration:none;cursor:pointer}.dashboard__login-cta:hover{background-color:#38e775}.dashboard__login-tooltip{margin-top:12px;padding:0 24px;background-color:#424242;border:2px solid #fff}@media (max-width:766px){.dashboard__login-tooltip{display:none}}.dashboard__menu{min-height:84vh;max-width:1000px;margin:80px auto 40px}.dashboard__menu-content-box{margin:24px}.dashboard__menu-content-box>h1{font-size:36px}@media (max-width:766px){.dashboard__menu-content-box>h1{font-size:32px}}.dashboard__container{display:grid;grid-gap:32px;grid-template-columns:1fr 1fr}@media (max-width:766px){.dashboard__container{grid-template-columns:1fr}}.dashboard__menu-grid{display:grid;grid-template-columns:1fr;grid-gap:12px}.dashboard__menu-grid-item{display:flex;flex-direction:column;justify-content:space-between;background:#1db954;color:#fff;padding:16px;height:200px;text-decoration:none}.dashboard__menu-grid-item:hover{background:#38e775}.dashboard__menu-grid-item>.dashboard__menu-grid-item-header{font-size:32px;font-weight:700}@media (max-width:766px){.dashboard__menu-grid-item>.dashboard__menu-grid-item-header{font-size:28px}}.dashboard__menu-grid-item>.dashboard__menu-grid-item-description{min-height:72px}"],encapsulation:2}),Ee),Te=[{path:"",component:Ie},{path:"callback",redirectTo:""},{path:"top-tracks",component:Nt,pathMatch:"full"},{path:"top-artists",component:Yt,pathMatch:"full"},{path:"recently-played",component:Dt,pathMatch:"full"},{path:"remove-duplicates",component:ae,pathMatch:"full"},{path:"**",component:Ie}],je=((Pe=function t(){_classCallCheck(this,t)}).\u0275mod=a.Fb({type:Pe}),Pe.\u0275inj=a.Eb({factory:function(t){return new(t||Pe)},imports:[[r.b,i.d.forChild(Te),lt.a,ot,st,ct.a.forRoot(ct.b)],i.d]}),Pe)}}]);