"use strict";(self.webpackChunkmy_spotify_stats=self.webpackChunkmy_spotify_stats||[]).push([[258],{9258:(S,l,a)=>{a.r(l),a.d(l,{RecentlyPlayedComponent:()=>E});var i=a(6895),_=a(6787),c=a(4466),o=a(6257),e=a(8274),d=a(4578),y=a(8019),g=a(6e3),p=a(1303),m=a(5134),f=a(7763);function h(n,r){1&n&&(e.TgZ(0,"div",6)(1,"div",7),e._uU(2,"Sorry, there was no tracks found!"),e.qZA(),e.TgZ(3,"div",8),e._uU(4,"Please wait a minute and refresh to try again!"),e.qZA()())}function v(n,r){if(1&n&&(e.TgZ(0,"li",11)(1,"div",12),e._UZ(2,"img",13),e.qZA(),e.TgZ(3,"div",14)(4,"div",15),e._uU(5),e.qZA(),e.TgZ(6,"div",16),e._uU(7),e.qZA()(),e.TgZ(8,"div",17),e._uU(9),e.ALo(10,"localeDate"),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.Q6J("src",null==t?null:t.image,e.LSH)("alt",null==t?null:t.name),e.xp6(3),e.Oqu(t.name),e.xp6(2),e.Oqu(t.getAllArtists()),e.xp6(2),e.Oqu(e.xi3(10,5,null==t?null:t.duration,"mm:ss"))}}function u(n,r){if(1&n&&(e.TgZ(0,"ul",9),e.YNc(1,v,11,8,"li",10),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.tracks)}}let E=(()=>{class n{constructor(t,s,k,P,T){this.errorService=t,this.attributeService=s,this.userService=k,this.storageService=P,this.loadingService=T,this.tracks=[]}onGettingTracks(){return this.loadingService.toggle(!0),this.userService.getRecentlyPlayedTracks().then(t=>{this.tracks=t,console.log(t),setTimeout(()=>{this.loadingService.toggle(!1)},500)}).catch(()=>{this.storageService.removeLocalStorageItem(),this.storageService.removeLocalStorageItem("access-token-date"),setTimeout(()=>{this.loadingService.toggle(!1);const t=new o.j("Access Token Error","Access token expired, new token is needed.");return this.errorService.callError("",t)},100)})}ngOnInit(){return this.attributeService.updatePageState("recently-played"),this.onGettingTracks()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.T),e.Y36(y.c),e.Y36(g.K),e.Y36(p.V),e.Y36(m.b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-recently-played"]],standalone:!0,features:[e.jDz],decls:7,vars:2,consts:[[1,"recently-played"],[1,"recently-played__header"],[1,"recently-played__heading"],[1,"recently-played__grid"],["class","recently-played__no-tracks",4,"ngIf"],["class","recently-played__tracks",4,"ngIf"],[1,"recently-played__no-tracks"],[1,"no-tracks__heading"],[1,"no-tracks__label"],[1,"recently-played__tracks"],["class","recently-played__item",4,"ngFor","ngForOf"],[1,"recently-played__item"],[1,"tracks__image"],["loading","lazy",3,"src","alt"],[1,"tracks__details"],[1,"tracks__name"],[1,"tracks__artists"],[1,"tracks__duration"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Top tracks"),e.qZA()(),e.TgZ(4,"div",3),e.YNc(5,h,5,0,"div",4),e.YNc(6,u,2,1,"ul",5),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("ngIf",!s.tracks.length),e.xp6(1),e.Q6J("ngIf",s.tracks.length))},dependencies:[i.ez,i.sg,i.O5,c.m,f.H,_.mZ],styles:[".recently-played{margin:24px 56px}@media only screen and (max-width: 767px){.recently-played{padding:80px 0 0}}.recently-played__grid{margin-top:24px}.recently-played__heading{font-family:Signika,sans-serif;font-size:28px;font-weight:400}.recently-played__no-tracks{text-align:center}.recently-played__no-tracks .no-tracks__heading{font-family:Signika,sans-serif;font-size:36px;font-weight:400;font-weight:700}.recently-played__no-tracks .no-tracks__label{font-family:Signika,sans-serif;font-size:14px;font-weight:400;font-weight:300}.recently-played__tracks{list-style:none;padding:0}.recently-played__item{display:flex;justify-content:space-between;align-items:center}.recently-played__item .tracks__image img{width:50px;margin-right:24px}.recently-played__item .tracks__details{width:100%}.recently-played__item .tracks__name{font-family:Signika,sans-serif;font-size:18px;font-weight:400}.recently-played__item .tracks__artists,.recently-played__item .tracks__duration{font-family:Signika,sans-serif;font-size:14px;font-weight:400;font-weight:300;color:#b4b4b4}\n"],encapsulation:2}),n})()}}]);